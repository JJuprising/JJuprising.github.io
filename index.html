<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Joe Station</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Joe Station"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Joe Station"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Joe Station"><meta property="og:url" content="https://jjuprising.github.io/"><meta property="og:site_name" content="Joe Station"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jjuprising.github.io/img/og_image.png"><meta property="article:author" content="Joe"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://jjuprising.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://JJuprising.github.io"},"headline":"Joe Station","image":["https://jjuprising.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Joe"},"publisher":{"@type":"Organization","name":"Joe Station","logo":{"@type":"ImageObject","url":"https://jjuprising.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.0.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Joe Station" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-11-03T10:59:22.000Z" title="2022/11/3 18:59:22">2022-11-03</time>发表</span><span class="level-item"><time dateTime="2022-11-08T08:30:02.583Z" title="2022/11/8 16:30:02">2022-11-08</time>更新</span><span class="level-item">7 分钟读完 (大约997个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/11/03/%E5%A6%82%E4%BD%95%E5%86%99%E7%94%B3%E6%8A%A5%E4%B9%A6%E5%92%8C%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE/">如何写申报书和管理项目</a></h1><div class="content"><h1 id="计划类文档的体例和内容关系"><a href="#计划类文档的体例和内容关系" class="headerlink" title="计划类文档的体例和内容关系"></a>计划类文档的体例和内容关系</h1><h2 id="简介-x2F-摘要"><a href="#简介-x2F-摘要" class="headerlink" title="简介&#x2F;摘要"></a>简介&#x2F;摘要</h2><ul>
<li>研究背景</li>
<li>现存问题</li>
<li>主要研究内容</li>
<li>创新点</li>
<li>实验结果&#x2F;核心成果</li>
</ul>
<h2 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h2><p>问题的背景(技术的应用场景？系统的使用环境？)–&gt;对核心问题的凝练表述(一个词组&#x2F;一句话)–&gt;理论重要性(问题本身在理论上未能完善解决)、社会意义、应用价值(如能完善，可能获得的收益)</p>
<h2 id="相关工作调研-角度-研究领域、产业领域；国内、国外；论文、产品、专利；"><a href="#相关工作调研-角度-研究领域、产业领域；国内、国外；论文、产品、专利；" class="headerlink" title="相关工作调研(角度:研究领域、产业领域；国内、国外；论文、产品、专利；)"></a>相关工作调研(角度:研究领域、产业领域；国内、国外；论文、产品、专利；)</h2><ul>
<li>解决项目拟研究问题的核心技术(不止一个)的发展沿革及现状</li>
<li>应用要素本身如有与核心技术配合构成系统的情况(从系统角度对相关研究发展加以概述)<ul>
<li>核心技术有没有已经做了或用别的技术来解决了这个问题的</li>
<li>你这么做又可以解决什么其他的问题</li>
</ul>
</li>
</ul>
<h2 id="问题描述-x2F-拟研究问题"><a href="#问题描述-x2F-拟研究问题" class="headerlink" title="问题描述&#x2F;拟研究问题"></a>问题描述&#x2F;拟研究问题</h2><ul>
<li>选择合适的套路：(数学模型法、场景描述法、系统构成法(功能需求、性能需求))</li>
<li>严谨、准确、无歧义的描述(独立于解决方案)</li>
<li>留扣子:将问题解决的核心方法要素&#x2F;需求进行解构分析(–&gt;潜移默化地催眠读者，尽可能使之对后续的研究内容、技术路线有顺理成章的认同感)</li>
</ul>
<h2 id="研究内容-总分总结构"><a href="#研究内容-总分总结构" class="headerlink" title="研究内容(总分总结构)"></a>研究内容(总分总结构)</h2><p>从技术面对问题解决方案进行结构，逐一分析</p>
<h2 id="技术方案-路线、重点、难点"><a href="#技术方案-路线、重点、难点" class="headerlink" title="技术方案(路线、重点、难点)"></a>技术方案(路线、重点、难点)</h2><p>(与主要研究内容的区别是：研究内容着重讲做什么；技术路线着重讲怎么做)</p>
<p>重点：如果实现了，至少基本解决了提出的问题(保底)</p>
<p>难点：如果实现了，能较好地解决提出的问题(锦上添花)</p>
<h2 id="可行性分析"><a href="#可行性分析" class="headerlink" title="可行性分析"></a>可行性分析</h2><p><strong>理论可行性</strong></p>
<p>(类比：核心技术在其他领域的应用，从功能和性能上，是否与拟研究应用的要求相吻合)</p>
<p>(着重方案合理性&#x2F;避重就轻)</p>
<p><strong>条件可行性</strong></p>
<p>(研究基础、物质条件、非物质条件)</p>
<h2 id="研究计划-x2F-进度安排"><a href="#研究计划-x2F-进度安排" class="headerlink" title="研究计划&#x2F;进度安排"></a>研究计划&#x2F;进度安排</h2><p>研究内容的逻辑理论、研究路线的细节理清–&gt;每季度的进度规划(+阶段性成果或进度检验标准)</p>
<p>甘特图</p>
<h2 id="预期成果"><a href="#预期成果" class="headerlink" title="预期成果"></a>预期成果</h2><p>研究生：专利+论文</p>
<p>本科生：软著&#x2F;专利+比赛作品&#x2F;论文</p>
<h2 id="经费"><a href="#经费" class="headerlink" title="经费"></a>经费</h2><p>资料费、软著费、专利费</p>
<p>申报书印象分加分技巧：</p>
<ol>
<li><p>排版有条理(分点罗列、层次清晰) 适当加粗&#x2F;高亮显示一些关键词句</p>
</li>
<li><p>主次分明、详略得当</p>
</li>
<li><p>图表化展示核心概念、思路、方法、过程、原理</p>
<p>切记直接挪用CSDN、知乎、百度百科等(带水印)</p>
<p>风格要统一</p>
</li>
<li><p>参考文献统一国标标准</p>
</li>
<li><p>工作量(字数和内容)</p>
<p>字数一万多差不多得了，内容要精妙</p>
</li>
</ol>
<p>从申报书到论文&#x2F;作品：</p>
<p>​    申报书(体例框架、基本图、表等素材)–&gt;引言、相关工作、问题描述(迭代优化)–&gt;解决方案、实验验证</p>
<p>以上笔记来自杨欢老师的线上课堂，向杨欢老师致谢。</p>
<h1 id="本科申报书格式"><a href="#本科申报书格式" class="headerlink" title="本科申报书格式"></a>本科申报书格式</h1><p>是本人参考之前的活动策划案、师兄师姐的申报书自己设定的一个格式。</p>
<ul>
<li>大标题如国内外研究现状：黑体、四号、一倍行距</li>
<li>正文：中文宋体、小四，英文TImes New Roman</li>
<li>标题序号：1.-&gt;1.1-&gt;(1)-&gt;缩进两个，1)-&gt;①</li>
<li>行距：除了大标题，图片嵌入性单倍行距，正文固定值20磅，段前段后0.5行</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-11-01T17:00:01.000Z" title="2022/11/2 01:00:01">2022-11-02</time>发表</span><span class="level-item"><time dateTime="2022-11-01T17:27:35.092Z" title="2022/11/2 01:27:35">2022-11-02</time>更新</span><span class="level-item">5 分钟读完 (大约706个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/11/02/%E8%A7%A3%E5%86%B3rehl8-Unable-to-read-consumer-identity%E7%9A%84%E9%97%AE%E9%A2%98/">解决rehl8 Unable to read consumer identity的问题</a></h1><div class="content"><p>看看现在的时间吧01:00……本来想着今天能早点睡了，结果被这个问题折磨了一个多小时(尝试百度，然后CSDN上各种牛鬼蛇神的答案折磨)</p>
<p>感谢susu老师的录屏，经过几步简单的操作让我今晚能安心入眠。</p>
<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>在进行源码编译安装的开头</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install gcc make</span><br><span class="line">Unable to read consumer identity</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">Error: There are no enabled repos.</span><br></pre></td></tr></table></figure>

<p>哈哈出现了这个问题”This system is not registered to Red Hat”</p>
<p>其实就是需要换一下国内源，而用CentOS应该是没有问题的，这里就介绍以下rehl8的解决办法。</p>
<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><h2 id="先挂好光驱"><a href="#先挂好光驱" class="headerlink" title="先挂好光驱"></a>先挂好光驱</h2><p><strong>临时挂载</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /dvd/</span><br><span class="line">[root@localhost ~]# mount /dev/cdrom /dvd/ #把光驱挂到/dvd下</span><br></pre></td></tr></table></figure>

<h3 id="至关重要的一步！！"><a href="#至关重要的一步！！" class="headerlink" title="至关重要的一步！！"></a>至关重要的一步！！</h3><p>修改配置文件，这里进行换源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/yum.repos.d/dvd.repo</span><br></pre></td></tr></table></figure>

<p>直接复制粘贴以下内容，但是注意如果你的不是挂载&#x2F;dvd&#x2F;下的，在注释的地方要作相应变动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[BaseOS]</span><br><span class="line">name=BaseOS</span><br><span class="line">baseurl=file:///dvd/BaseOS #具体路径修改</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=/etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial</span><br><span class="line">[AppStream]</span><br><span class="line">name=AppStream</span><br><span class="line">baseurl=file:///dvd/AppStream #具体路径修改</span><br><span class="line">gpgcheck=0</span><br><span class="line">[epel]</span><br><span class="line">name=EPEL</span><br><span class="line">baseurl=http://mirrors.aliyun.com/epel/$releasever/Everything/$basearch</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line">[httpAppstream]</span><br><span class="line">name=aliyun Appstream</span><br><span class="line">baseurl=https://mirrors.aliyun.com/centos/$releasever/AppStream/$basearch/os</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure>

<blockquote>
<p> 记得ESC+:wq保存~</p>
</blockquote>
<p><strong>这一步设置之后就可以解决问题了！</strong></p>
<p>重启之后都要重新mount，不太方便，接着进行：</p>
<p><strong>永久挂载</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/fstab</span><br><span class="line"><span class="meta">#</span><span class="language-bash">在末尾添加 空格分隔即可</span></span><br><span class="line">/dev/cdrom /dvd/   iso9660 defaults 0 0</span><br><span class="line">[root@localhost ~]# reboot #重启一下</span><br></pre></td></tr></table></figure>

<p><strong>检查挂好没</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mount #看最后是否有 /dev/sr0 on /dvd....</span><br></pre></td></tr></table></figure>

<h2 id="开始装编译器"><a href="#开始装编译器" class="headerlink" title="开始装编译器"></a>开始装编译器</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum clean /all  #清一下缓存</span><br><span class="line">[root@localhost ~]# yum repolist -v #重新加载一下</span><br><span class="line">[root@localhost ~]# yum -y install gcc gcc-c++ make</span><br><span class="line">Updating Subscription Management repositories.</span><br><span class="line">Unable to read consumer identity</span><br><span class="line">This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.</span><br><span class="line">上次元数据过期检查：0:00:37 前，执行于 2022年11月02日 星期三 00时55分25秒。</span><br><span class="line">错误：</span><br><span class="line"> 问题 1: cannot install the best candidate for the job</span><br><span class="line">  - nothing provides libgcc &gt;= 8.5.0-4.el8_5 needed by gcc-8.5.0-4.el8_5.x86_64</span><br><span class="line">  - nothing provides libgomp = 8.5.0-4.el8_5 needed by gcc-8.5.0-4.el8_5.x86_64</span><br><span class="line"> 问题 2: cannot install the best candidate for the job</span><br><span class="line">  - nothing provides libstdc++ = 8.5.0-4.el8_5 needed by gcc-c++-8.5.0-4.el8_5.x86_64</span><br><span class="line">(尝试添加 &#x27;--skip-broken&#x27; 来跳过无法安装的软件包 或 &#x27;--nobest&#x27; 来不只使用最佳选择的软件包)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这时候报错了。</p>
<p>确实，又报错了哈哈，应该是版本问题，还好susu也有讲，按照提示加上’–nobest’即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install --nobest gcc gcc-c++ make</span><br></pre></td></tr></table></figure>

<blockquote>
<p> 搞掂！舒服了~ Zzz</p>
</blockquote>
<p>对了，这时候别忘了拍张快照，一劳永逸：）</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/09/29/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="fill" src="https://s2.loli.net/2022/10/07/XTCDJwhl5OKGyFW.png" alt="Java学习笔记"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-09-29T00:40:55.000Z" title="2022/9/29 08:40:55">2022-09-29</time>发表</span><span class="level-item"><time dateTime="2022-11-03T02:39:56.297Z" title="2022/11/3 10:39:56">2022-11-03</time>更新</span><span class="level-item">35 分钟读完 (大约5200个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/09/29/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java学习笔记</a></h1><div class="content"><p>main函数当作类外的函数来看待</p>
<p>1、包内访问权限和protected有何不同？(p98)</p>
<p>包内访问权限介于private和protected之间</p>
<p>包外的派生类，可以在派生类内部调用基类的protected成员</p>
<p>包外的派生类，无法在派生类内部调用基类的包内访问成员</p>
<ul>
<li>当两个包在同一个项目之中时，可以通过完整类目继承包外的基类访问</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Lab2;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">newClass</span> <span class="keyword">extends</span> <span class="title class_">Lab1</span>.myClass&#123;<span class="comment">//包名.类名</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>当两个包在不同的项目之中时，将基类项目导出为.jar，将该.jar文件复制到派生类所在的项目文件夹中，然后右键点击选择”add building path”添加到构建路径，然后代码与上面相同。</li>
</ul>
<p>2、所有数组都能排序吗？</p>
<p>错误。排序要有一定依据，没有指定依据无法排序。如类型为类的数组，可比较的属性不止一种（implements比较器)。</p>
<p>3、接口</p>
<p>接口的本质是标准，是设计者、实现者，调用者之间的桥梁</p>
<ul>
<li><p>类内实现的可比较器Comparable，由被比较的类implements实现，重写<code>compareTo</code>函数</p>
</li>
<li><p>类外实现的可比较器Comparator，由另外一个类implements实现，重写<code>compare</code>函数</p>
<ul>
<li>如果是一次性的考虑用<strong>匿名内部类</strong>来实现比较器。否则这个只用一次的有名字的类可能会对代码理解造成困扰。</li>
</ul>
</li>
</ul>
<h1 id="基本输入输出范例代码"><a href="#基本输入输出范例代码" class="headerlink" title="基本输入输出范例代码"></a>基本输入输出范例代码</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Scanner sc=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"><span class="type">int</span> n=sc.nextInt();</span><br><span class="line">String str1=sc.next();</span><br><span class="line">System.out.println(<span class="string">&quot;欢迎&quot;</span>+n+<span class="string">&quot;号同学&quot;</span>+str1);</span><br></pre></td></tr></table></figure>



<h1 id="第四章-流程控制"><a href="#第四章-流程控制" class="headerlink" title="第四章 流程控制"></a>第四章 流程控制</h1><h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><h3 id="foreach语句"><a href="#foreach语句" class="headerlink" title="foreach语句"></a>foreach语句</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(元素类型x:遍历对象obj)&#123;</span><br><span class="line">    引用了x的java语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>例子：</strong>遍历一维数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Repetition</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">        <span class="type">int</span> arr[]=&#123;<span class="number">5</span>,<span class="number">13</span>,<span class="number">96</span>&#125;;</span><br><span class="line">        System.out.println(<span class="string">&quot;一维数组中的元素分别为：&quot;</span>);</span><br><span class="line">        <span class="comment">//x的类型与arr元素的类型相同 。for循环依次取出arr中的值并赋给x</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x:arr)&#123;</span><br><span class="line">            System.out.println(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*输出结果：</span></span><br><span class="line"><span class="comment">一维数组中的元素分别为：</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">13</span></span><br><span class="line"><span class="comment">96</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<h1 id="第五章-数组"><a href="#第五章-数组" class="headerlink" title="第五章 数组"></a>第五章 数组</h1><h2 id="数组的基本操作"><a href="#数组的基本操作" class="headerlink" title="数组的基本操作"></a>数组的基本操作</h2><h3 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h3><ul>
<li><code>Arrays.sort(arr);</code></li>
<li><code>Arrays.parallelSort(arr);</code>多线程排序，数据量大于一百万</li>
</ul>
<h3 id="复制数组"><a href="#复制数组" class="headerlink" title="复制数组"></a>复制数组</h3><h4 id="copyof-方法"><a href="#copyof-方法" class="headerlink" title="copyof()方法"></a>copyof()方法</h4><p>语法：<code>int a[]=Arrays.copyOf(arr,int newlength);</code></p>
<ul>
<li>newlength：复制后新数组的长度</li>
</ul>
<blockquote>
<p>！注：不能直接<code>a=b</code>，数组名是指针常量（常指针）</p>
</blockquote>
<h1 id="第六章-类和对象"><a href="#第六章-类和对象" class="headerlink" title="第六章 类和对象"></a>第六章 类和对象</h1><h2 id="面向对象概述"><a href="#面向对象概述" class="headerlink" title="面向对象概述"></a>面向对象概述</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><ul>
<li>避免外部操作对内部数据的影响，提高程序的可维护性</li>
<li>提高工作效率，把无需调用者关心的内容隐藏，简化编程，知道面对外部的接口能调用即可</li>
</ul>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p><strong>对于人来说，</strong></p>
<p>public：学历、知识（别人抢不走的）</p>
<p>protected：身体等</p>
<p>public：很多</p>
<p><strong>protected同包其他类或子类(继承)可见，其他包的类或子类不可见；private都不可见，只有本类可见。</strong></p>
<h3 id="this-关键字"><a href="#this-关键字" class="headerlink" title="this 关键字"></a>this 关键字</h3><p>this关键字用于表示本类当前的对象，只能在本类中使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;<span class="comment">//定义一个setName()的方法</span></span><br><span class="line">    <span class="built_in">this</span>.name=name;<span class="comment">//将参数值赋予类中的成员变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="类的构造方法"><a href="#类的构造方法" class="headerlink" title="类的构造方法"></a>类的构造方法</h2><blockquote>
<p>Java类内的属性值不支持默认值，不能直接定义 <code>int count=0</code> </p>
<p>应使用默认构造函数初始化</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">eggCake</span>&#123;</span><br><span class="line">    <span class="type">int</span> eggCount;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EggCake</span><span class="params">(<span class="type">int</span> eggCount)</span>&#123;<span class="comment">//有参构造</span></span><br><span class="line">        <span class="built_in">this</span>.eggCount=eggCount;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EggCake</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//设置鸡蛋灌饼里蛋的个数为1</span></span><br><span class="line">        <span class="built_in">this</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="静态"><a href="#静态" class="headerlink" title="静态"></a>静态</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lab2_1</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Lab2_1</span>().show();<span class="comment">//临时无名对象</span></span><br><span class="line">        <span class="comment">//如果是show.()直接调用会报错，除非把show 声明为静态函数，说这是上面的方法，调用类内成员函数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类内静态成员共用一份空间</p>
<p>如果函数</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="对象的销毁"><a href="#对象的销毁" class="headerlink" title="对象的销毁"></a>对象的销毁</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lab2_1</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Lab2_1 l2=<span class="keyword">new</span> <span class="title class_">Lab2_1</span>();</span><br><span class="line">        <span class="comment">//l2=null; 销毁对象 之后如果是l2.show();那么会报错NullPointerException </span></span><br><span class="line">    &#125;<span class="comment">//超过作用域 对象l2销毁</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第七章-继承、多态、抽象类与接口"><a href="#第七章-继承、多态、抽象类与接口" class="headerlink" title="第七章 继承、多态、抽象类与接口"></a>第七章 继承、多态、抽象类与接口</h1><h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><h3 id="extends-关键字"><a href="#extends-关键字" class="headerlink" title="extends 关键字"></a>extends 关键字</h3><p>语法：<code>CHild extends Parents</code></p>
<h3 id="super-关键字"><a href="#super-关键字" class="headerlink" title="super 关键字"></a>super 关键字</h3><h2 id="Object-类"><a href="#Object-类" class="headerlink" title="Object 类"></a>Object 类</h2><p><strong>Object类是一切类的基类</strong>，隐含的继承</p>
<ul>
<li><p>如果没声明，toString()一定是调用自Object类，输出是字符编号。</p>
</li>
<li><p>输出字符串自动会调用toString()函数，应当重写以达到需要的输出目的。</p>
</li>
<li><p>重写只能保持或扩大访问权限，如原本是Public不能改成Private。</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//加这个帮助检查重写的函数名是否正确</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;我叫&quot;</span>+name+<span class="string">&quot;,今年&quot;</span>+age+<span class="string">&quot;岁。&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Student s1=<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">16</span>);</span><br><span class="line">        System.out.println(s1);<span class="comment">//就是System.out.println(s1.toString());</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="对象的类型转换"><a href="#对象的类型转换" class="headerlink" title="对象的类型转换"></a>对象的类型转换</h2><p><strong>需要基类对象的任何地方，都可以用派生类对象替代</strong></p>
<h3 id="向上转型"><a href="#向上转型" class="headerlink" title="向上转型"></a>向上转型</h3><h3 id="向下转型"><a href="#向下转型" class="headerlink" title="向下转型"></a>向下转型</h3><h2 id="instanceof关键字判断对象类型"><a href="#instanceof关键字判断对象类型" class="headerlink" title="instanceof关键字判断对象类型"></a>instanceof关键字判断对象类型</h2><h2 id="方法的重载"><a href="#方法的重载" class="headerlink" title="方法的重载"></a>方法的重载</h2><blockquote>
<p> 函数的返回值类型不属于重载的依据</p>
</blockquote>
<h2 id="final-关键字"><a href="#final-关键字" class="headerlink" title="final 关键字"></a>final 关键字</h2><p>最终的、终态</p>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><h2 id="抽象类与接口"><a href="#抽象类与接口" class="headerlink" title="抽象类与接口"></a>抽象类与接口</h2><h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><ul>
<li>只要类中有一个抽象方法，此类就是抽象类</li>
<li>抽象类不能实例化，抽象类存在的目的就是为了被继承</li>
<li>c++中全是抽象方法就叫纯虚类</li>
</ul>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><ul>
<li>只能声明，不能实现</li>
</ul>
<h1 id="第9章-异常处理"><a href="#第9章-异常处理" class="headerlink" title="第9章 异常处理"></a>第9章 异常处理</h1><p>异常与错误：</p>
<p>一个不好的问题发生了，如果对该问题提前有应对措施，就是<strong>异常处理</strong>；</p>
<p>如果没有任何准备，就是<strong>错误</strong>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//想要正确执行，但是不可控的语句段</span></span><br><span class="line">    <span class="comment">//数据输入输出、网络连接、文件读写、数据库连接访问</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    <span class="comment">//可以有多个catch语句，捕获不同的异常 </span></span><br><span class="line">    <span class="comment">//必须是小范围异常(异常类)在前，Exception必须放在最后，Exception是所有异常的基类，范围最大</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//不管是否有捕获异常，都想要执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第10章-字符串"><a href="#第10章-字符串" class="headerlink" title="第10章 字符串"></a>第10章 字符串</h1><p>String类，字符常量存储。</p>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[]=&#123;<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;d&#x27;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);<span class="comment">//相当于String s = new String(&quot;good&quot;)</span></span><br></pre></td></tr></table></figure>

<p>截取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[]=&#123;<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;d&#x27;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(a,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//相当于String s = new String(&quot;oo&quot;)</span></span><br></pre></td></tr></table></figure>



<h2 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h2><p><code>int+&#39;&#39;</code>把<code>int</code>转为<code>String</code>类型</p>
<h2 id="获取字符串信息"><a href="#获取字符串信息" class="headerlink" title="获取字符串信息"></a>获取字符串信息</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(s[<span class="number">0</span>]);<span class="comment">//是错误的</span></span><br><span class="line">System.out.println(s.charAt[<span class="number">0</span>]);<span class="comment">//才对</span></span><br></pre></td></tr></table></figure>

<h3 id="字符串的查找"><a href="#字符串的查找" class="headerlink" title="字符串的查找"></a>字符串的查找</h3><p><code>indexOf(String s)</code> 区分大小写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str=<span class="string">&quot;We are students&quot;</span>;</span><br><span class="line"><span class="type">int</span> size=str.indexOf(<span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="type">int</span> size2=str.toLowerCase().indexOf(<span class="string">&quot;a&quot;</span>);<span class="comment">//转为小写再查找，这个toLowerCase()或toUpperCase()是生成新的字符串对象，不会修改原来的字符串</span></span><br></pre></td></tr></table></figure>



<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><h3 id="获取字符串"><a href="#获取字符串" class="headerlink" title="获取字符串"></a>获取字符串</h3><p>substring(int beginIndex)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String str=<span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">String substr=str.substring(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>



<h3 id="字符串替换"><a href="#字符串替换" class="headerlink" title="字符串替换"></a>字符串替换</h3><p><code>replace()</code></p>
<p><code>replaceAll()</code>支持正则表达式</p>
<h3 id="判断相等"><a href="#判断相等" class="headerlink" title="判断相等"></a>判断相等</h3><p><code>equals()</code>而不是用<code>==</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String s1=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">String s2=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">String s3=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">String s4=<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">System.out.println(s1==s2);<span class="comment">//结果是true</span></span><br><span class="line">System.out.println(s3==s4);<span class="comment">//结果是false</span></span><br></pre></td></tr></table></figure>

<p>如果直接等号赋值，就是基本数据类型，用<code>==</code>可以判断；当用<code>new</code>，把变量当对象来看待，两个对象不可能相等，因此只能用<code>equals()</code>来判断相等。</p>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String regex1=<span class="string">&quot;[a-zA-Z_$]+[a-zA-Z_$]*&quot;</span>;<span class="comment">//</span></span><br><span class="line">String regex2=<span class="string">&quot;[1-9][0-9]&#123;4,10&#125;*&quot;</span>;<span class="comment">//qq号码规则</span></span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> lesson5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegExp</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		String contentString=<span class="string">&quot;1998,1239,12,144&quot;</span>;</span><br><span class="line">		<span class="comment">//1.\\d表示一个任意的数字</span></span><br><span class="line">		String regString=<span class="string">&quot;\\d\\d\\d\\d&quot;</span>;<span class="comment">//找四个连续的数字,分组的话是(//d)(//d)</span></span><br><span class="line">		<span class="comment">//2.创建模式对象[即正则表达式对象]</span></span><br><span class="line">		Pattern pattern=Pattern.compile(regString);</span><br><span class="line">		<span class="comment">//3.创建匹配器</span></span><br><span class="line">		<span class="comment">//说明：创建匹配器matcher，按照正则表达式的规则去匹配content字符串</span></span><br><span class="line">		Matcher matcher=pattern.matcher(contentString);</span><br><span class="line">		<span class="comment">//4.开始匹配</span></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 * match.find()完成的任务 (考虑分组，如(//d//d)(//d//d))</span></span><br><span class="line"><span class="comment">		 * 1. 根据给定的规则，定位满足规则的字符串（如1999,分组即(19)(99))</span></span><br><span class="line"><span class="comment">		 * 2. 找到时，将字符串的开始的索引记录到matcher对象的属性 int[] groups;</span></span><br><span class="line"><span class="comment">		 *    2.1groups[0]=0，把该子字符串的结束的索引+1的值记录到group[1]=35,+1是因为取字符串左闭右开</span></span><br><span class="line"><span class="comment">		 *    2.2 记录第一组()匹配的字符串的区间group[2]=0,group[3]=2</span></span><br><span class="line"><span class="comment">		 *    2.3 记录第二组()匹配的字符串的区间group[4]=2,group[5]=4</span></span><br><span class="line"><span class="comment">		 *    2.4 如果有更多分组以此类推</span></span><br><span class="line"><span class="comment">		 * 3. 同时记录oldLast的值为子字符串的结束的索引+1的值即5，那下一次执行find时，从5开始匹配</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		<span class="keyword">while</span>(matcher.find()) &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;找到：&quot;</span>+matcher.group(<span class="number">0</span>));<span class="comment">//group(0)记录找到的字符串开头,同时可以找到结尾</span></span><br><span class="line">			System.out.println(<span class="string">&quot;第一组()的值： &quot;</span>+matcher.group(<span class="number">1</span>));<span class="comment">//19</span></span><br><span class="line">			System.out.println(<span class="string">&quot;第二组()的值： &quot;</span>+matcher.group(<span class="number">2</span>));<span class="comment">//99</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h4><p>检索特殊字符要用转义符号<code>\\</code>，在java的正则表达式中两个<code>\\</code>代表其他语言一个<code>\</code></p>
<h4 id="字符匹配符"><a href="#字符匹配符" class="headerlink" title="字符匹配符"></a>字符匹配符</h4><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>实例</th>
<th>说明</th>
<th>匹配输入</th>
</tr>
</thead>
<tbody><tr>
<td><code>[ ]</code></td>
<td>匹配任意一个</td>
<td><code>[efgh]</code></td>
<td>e,f,g,h任意一个</td>
<td>e,f,g,h</td>
</tr>
<tr>
<td><code>[^ ]</code></td>
<td>排除</td>
<td><code>[^abc]</code></td>
<td>除了abc之外的任意一个字符包括数字和特殊符号</td>
<td>d,f,p</td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配除\n以外的任何字符</td>
<td><code>a..b</code></td>
<td>a开头b结尾中间任意两个字符</td>
<td>aaab,a#*b</td>
</tr>
<tr>
<td><code>\\d</code></td>
<td>匹配单个数字字符相当于{0-9}</td>
<td><code>\\d&#123;3&#125;&#123;\\d&#125;?</code></td>
<td>包含3个或4个数字的字符串</td>
<td>123,9876</td>
</tr>
<tr>
<td><code>\\D</code></td>
<td>匹配单个非数字字符，相当于<code>[^0-9]</code></td>
<td><code>\\D&#123;\\d&#125;*</code></td>
<td>以单个非数字字符开头后接任意个数字的字符串</td>
<td>a,A342</td>
</tr>
<tr>
<td><code>\\w</code></td>
<td>匹配单个数字、大小英文写字母，下划线，相当于<code>[0-9a-zA-Z_]</code></td>
<td><code>\\d&#123;3&#125;\\w&#123;4&#125;</code></td>
<td>以3个数字字符开头的任意长度为7的数字字母字符串</td>
<td>234abcd、1234Pe</td>
</tr>
<tr>
<td><code>\\W</code></td>
<td>匹配单个非数字、大小写字母和下划线字符，相当于<code>[^0-9a-zA-Z_]</code></td>
<td><code>\\W+\\d&#123;2&#125;</code></td>
<td>以至少1个非数字字母字符开头，2个数字字符结尾的字符串</td>
<td></td>
</tr>
<tr>
<td><code>\\s</code></td>
<td>匹配任何空白字符(空格，制表符等)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>\\S</code></td>
<td>匹配任何非空白字符</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>\\.</code></td>
<td>匹配除\n之外的所有字符</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>区分大小写</strong></p>
<p>默认区分大小写，如模式串写<code>&quot;abc&quot;</code>匹配出来abc而<code>(?i)abc</code>表示不区分大小写,<code>a(?i)bc</code>是bc不区分大小写</p>
<h2 id="常用类库"><a href="#常用类库" class="headerlink" title="常用类库"></a>常用类库</h2><h3 id="Integer类"><a href="#Integer类" class="headerlink" title="Integer类"></a>Integer类</h3><p>能在int类型和String类型之间互相转换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> Integer.parseInt(<span class="string">&quot;456&quot;</span>);<span class="comment">//返回包含在由str指定的字符串中的数字的等价整数值</span></span><br><span class="line">Integer iNum=Integer.valueOf(<span class="string">&quot;456&quot;</span>);<span class="comment">//返回保存指定的String值的Integer对象</span></span><br><span class="line">iNum.equal(num);<span class="comment">//比较，返回值是true</span></span><br></pre></td></tr></table></figure>

<h3 id="Double类"><a href="#Double类" class="headerlink" title="Double类"></a>Double类</h3><p>是Number类的子类，都是对浮点数进行操作。Double类在对象中包装一个基本类型为double的值，每个Double类的对象都包含一个double类型的字段。可将String和double相互转换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Double dNum=Double.valueOf(<span class="string">&quot;3.14&quot;</span>);</span><br><span class="line">Double.isNaN(dNum.doubleValue());<span class="comment">//是否返回非数字(NaN)值</span></span><br><span class="line">dNum.intValue();<span class="comment">//转为int类型</span></span><br></pre></td></tr></table></figure>

<h3 id="Boolean类"><a href="#Boolean类" class="headerlink" title="Boolean类"></a>Boolean类</h3><p>当 String 的参数值在不区分大小写的时候等于 “true” ，则 Boolean.valueOf(String) 返回值为 true；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Boolean b1=Boolean.valueOf(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">Boolean b2=Boolean.valueOf(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">b1.booleanValue();<span class="comment">//将Boolean对象的值以对应的boolean值返回，值为true</span></span><br><span class="line">b2.booleanValue();<span class="comment">//值为false</span></span><br></pre></td></tr></table></figure>

<h3 id="Character类"><a href="#Character类" class="headerlink" title="Character类"></a>Character类</h3><p>字符大小转小写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Character mychar1=Character.valueOf(<span class="string">&#x27;A&#x27;</span>);<span class="comment">//返回保存指定char值的Character对象</span></span><br><span class="line">Character.isUpperCase(mychar1);<span class="comment">//判断是否为大写字母</span></span><br><span class="line">Character.toUpperCase(mychar1);<span class="comment">//转为大写</span></span><br><span class="line">Character.toLowerCase(mychar1);<span class="comment">//转小写，不改变原来字符串</span></span><br></pre></td></tr></table></figure>

<h1 id="第12章-集合类"><a href="#第12章-集合类" class="headerlink" title="第12章 集合类"></a>第12章 集合类</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;类名&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">//尖括号只能呢是类，比如不能放int要放integer</span></span><br></pre></td></tr></table></figure>



<p>遍历集合通过迭代器(Iterator)来实现，只读且向前。可以用foreach，可读可写，但是不能break，除非抛出异常。遍历修改迭代器(ListIterator)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Muster</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">        Collection&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="string">&quot;《Java从入门到精通》&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;《java实战》&quot;</span>);</span><br><span class="line">        lterator&lt;Sting&gt; it=list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            String str=(String)it.next();</span><br><span class="line">            System.out.printLn(Str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Set集合"><a href="#Set集合" class="headerlink" title="Set集合"></a>Set集合</h2><p><code>Set</code>集合传入的<code>Collection</code>对象不能有重复值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;类名&gt; set=<span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>

<p>必须可比较，传入的对象的类必须是包装类(默认字典顺序)或者实现<code>comparable</code>接口的类</p>
<p>问：在定义对象类型时，应该定义为基类或接口的类型，还是派生类的类型？</p>
<ul>
<li><p>创建的时候类型不确定，先定义为基类；或如果定义为接口给别人调用就声明为基类。要专门调用派生类具有的功能直接声明为派生类。</p>
</li>
<li><p>但是定义为基类无法调用子类特有的成员，如<code>subSet()</code>是<code>TresSet</code>特有的，定义为基类时无法调用，除非强制转型为子类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">TreeSet set2=((TreeSet&lt;Interger&gt;)set.)subSet(<span class="number">3</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Map类"><a href="#Map类" class="headerlink" title="Map类"></a>Map类</h2><p>每个对象是键值(&lt;key,value&gt;)的形式，类得可比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,String&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">map.put(<span class="string">&quot;1001&quot;</span>,<span class="string">&quot;java从入门到精通&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>如果key传入的是像Integer，String这样本身有序的，就会按字典序排列，而不是按哈希码。</p>
<p>原理：<code>add()</code>时用<code>hashcode</code>找哈希地址，用<code>equal()</code>看是否有存东西。如果是<code>false</code>就先并排放；若是<code>true</code>说明有了不用重复存。取值的时候找哈希地址，如果存在多个用<code>equal()</code>取具体的那一个。以上哈希码相同的情况为哈希冲突，同一个哈希地址可以存放多个不同对象。</p>
<p>优点：不用全部遍历，找到哈希地址再判断哪个是需要的取出即可。</p>
<h1 id="第13章-枚举类型与泛型"><a href="#第13章-枚举类型与泛型" class="headerlink" title="第13章 枚举类型与泛型"></a>第13章 枚举类型与泛型</h1><p>将“填空题”变为“选择题”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明为int/String类型方便switch case用</span></span><br><span class="line"><span class="comment">//接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">SeasonInterface</span>&#123;</span><br><span class="line">    <span class="type">int</span> Spring=<span class="number">1</span>,SUMMER=<span class="number">2</span>,AUTUMN=<span class="number">3</span>,WINTER=<span class="number">4</span>;</span><br><span class="line">    <span class="comment">//开头隐含的public static final</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//枚举</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">SeasonEnum</span>&#123;</span><br><span class="line">    SPRING,SUMMER,AUTUMN,WINTER</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SeasonDemo</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printSeason1</span><span class="params">(<span class="type">int</span> season)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(season)&#123;</span><br><span class="line">            <span class="keyword">case</span> SeasonInterface.SPRING:</span><br><span class="line">                System.out.println(<span class="string">&quot;这是春季&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SeasonInterface.SUMMER:</span><br><span class="line">                System.out.println(<span class="string">&quot;这是夏季&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SeasonInterface.AUTUMN:</span><br><span class="line">                System.out.println(<span class="string">&quot;这是秋季&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SeasonInterface.WINTER:</span><br><span class="line">                System.out.println(<span class="string">&quot;这是冬季&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>问：接口和枚举如何选择？</p>
<ul>
<li>接口一般是给别人来实现，功能可以更强大，如果不需要实现直接用枚举就行。</li>
<li>枚举优点：简单，运行效率高，类型安全</li>
</ul>
<h3 id="枚举类型中的构造方法"><a href="#枚举类型中的构造方法" class="headerlink" title="枚举类型中的构造方法"></a>枚举类型中的构造方法</h3><p>在枚举类型中，可以添加构造方法，但是规定这个构造方法必须被private修饰符所修饰。用于提示枚举值更加详细的含义、</p>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><h3 id="向上向下转型"><a href="#向上向下转型" class="headerlink" title="向上向下转型"></a>向上向下转型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">父类 a=<span class="keyword">new</span> 子类();<span class="comment">//向上转型</span></span><br><span class="line">子类 b=(子类)a;<span class="comment">//向下转型</span></span><br><span class="line">子类 b=<span class="keyword">new</span> 父类();<span class="comment">//！这是不可行的！</span></span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object b;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getB</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setB</span><span class="params">(Object b)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.b=b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Test t=<span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        t.setB(Boolean.valueOf(<span class="literal">true</span>));<span class="comment">//向上转型</span></span><br><span class="line">        System.out.println(t.getB());</span><br><span class="line">        t.setB(Float.valueOf(<span class="string">&quot;12.3&quot;</span>));</span><br><span class="line">        Float f=(Float)t.getB();<span class="comment">//向下转型</span></span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="定义泛型类"><a href="#定义泛型类" class="headerlink" title="定义泛型类"></a>定义泛型类</h3><p><code>Object</code>类为最上层的类，为了通用通常使传入的值与返回的值都以<code>Object</code>类型为主(<code>Object</code>太大了，不能统统用<code>Object</code>类)。当需要使用这些实例时，必须正确地将该实例<strong>转换为原来的类型</strong>，否则运行时将会发生<code>ClassCaseException</code>为了预防，<code>Java</code>提供泛型机制：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类型&lt;T&gt;</span><br></pre></td></tr></table></figure>

<h3 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h3><h4 id="泛型限制"><a href="#泛型限制" class="headerlink" title="泛型限制"></a>泛型限制</h4><p>对泛型类的实例类型做了限制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LimitClass</span>&lt;T <span class="keyword">extends</span> <span class="title class_">List</span>&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(Stirng[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//可以实例化已经实现List接口的类</span></span><br><span class="line">        LimitClass&lt;ArrayList&gt; l1=<span class="keyword">new</span> <span class="title class_">LimitClass</span>&lt;ArrayList&gt;();</span><br><span class="line">        <span class="comment">//这句是错误的，因为HashMap类没有实现List()接口</span></span><br><span class="line">        LimitClass&lt;HashMap&gt; l3=<span class="keyword">new</span> <span class="title class_">LimitClass</span>&lt;HashMap&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>&lt;T extends Serializable&gt;</code> 序列化，泛型必须是<code>Serializable</code>的子类，可传<code>Integer</code>或<code>String</code></p>
<h4 id="泛型通配符"><a href="#泛型通配符" class="headerlink" title="泛型通配符"></a>泛型通配符</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A&lt;?&gt; a;</span><br><span class="line">A&lt;? <span class="keyword">extends</span> <span class="title class_">anyClass</span>&gt; a;</span><br><span class="line">A&lt;?&gt; a= <span class="keyword">new</span> <span class="title class_">List</span>&lt;&gt;;<span class="comment">//这样是不可以的，实例化需要要具体的类型</span></span><br></pre></td></tr></table></figure>



<h1 id="第14章-lambda表达式与流处理"><a href="#第14章-lambda表达式与流处理" class="headerlink" title="第14章 lambda表达式与流处理"></a>第14章 lambda表达式与流处理</h1><p>将lambda表达式用来<strong>简化</strong>表示匿名函数，也就是没有名字的函数，提高开发<strong>效率</strong>。</p>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数式接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用匿名类创建对象</span></span><br><span class="line">A a=<span class="keyword">new</span> <span class="title class_">A</span>()&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;创建了接口的匿名对象&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//使用lambda表达式创建</span></span><br><span class="line">A a=()-&gt;&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;创建了接口的匿名对象&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>lamba表达式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">()-&gt;结果表达式</span><br><span class="line">参数-&gt;结果表达式</span><br><span class="line"><span class="comment">//多形参</span></span><br><span class="line">(参数<span class="number">1</span>,参数<span class="number">2</span>,...,参数n)-&gt;结果表达式</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数式接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AdditionInterface</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParamterDemo</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//lamba 表达式实现加法接口，返回参数相加的值(自动加return)</span></span><br><span class="line">        AdditionInterface np=(x,y)-&gt;x+y;</span><br><span class="line">        <span class="type">int</span> result=np.add(<span class="number">15</span>,<span class="number">26</span>);<span class="comment">//调用接口方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;相加结果：&quot;</span>+result);<span class="comment">//输出相加结果</span></span><br><span class="line">        <span class="comment">//而同一个接口可以实现不同的方法,关键在于接口的实现方式</span></span><br><span class="line">        AdditionInterface np2=(a,b)-&gt;a*b;</span><br><span class="line">        result=np2.add(a,b);</span><br><span class="line">        System.out.println(<span class="string">&quot;相乘结果：&quot;</span>+result);<span class="comment">//输出相乘结果</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>lamba表达式不能修改局部变量的值，只能使用</li>
</ul>
<h2 id="方法的引用"><a href="#方法的引用" class="headerlink" title="方法的引用"></a>方法的引用</h2><p>引用静态方法(复制一个已有的函数实现接口，甚至可以不需要这个已有函数内部是如何实现的)</p>
<p><code>类名::静态方法名</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">StaticMethodInterface</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="title function_">method</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticM</span></span><br></pre></td></tr></table></figure>

<h3 id="Function接口"><a href="#Function接口" class="headerlink" title="Function接口"></a>Function接口</h3><p><code>Function&lt;T,R&gt;</code>,T:被操作的类型，可以理解为方法的参数类型；R：操作结果类型，方法的返回类型。</p>
<p><code>Iterator&lt;T&gt;</code>只读！</p>
<p><code>ListIterator&lt;T&gt;</code>才能修改list的元素</p>
<h2 id="流处理"><a href="#流处理" class="headerlink" title="流处理"></a>流处理</h2><p>Stream流只能被消费一次，之后失效</p>
<h3 id="数据过滤"><a href="#数据过滤" class="headerlink" title="数据过滤"></a>数据过滤</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数据转化为流</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilerDemo</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        List&lt;Employee&gt; list=Employee.getEmpList();</span><br><span class="line">        Stream&lt;Employee&gt; stream=list.stream();</span><br><span class="line">        stream=stream.filter(people-&gt;people.getAge()&gt;<span class="number">30</span>);<span class="comment">//过滤出符合条件的数据</span></span><br><span class="line">        List&lt;Employee&gt; result=stream.collect(Collectors.toList());<span class="comment">//将流对象重新封装成一个List集合</span></span><br><span class="line">        List&lt;Employee&gt; result2=list.stream().filter(p-&gt;p.getDept().equals(<span class="string">&quot;开发部&quot;</span>)).peek(p-&gt;p.setSalary(p.getSalary()*<span class="number">10</span>)).collect(Collect.toList());<span class="comment">//过滤得到符合的让其工资翻十倍</span></span><br><span class="line">        <span class="keyword">for</span>(Employee emp:result)&#123;</span><br><span class="line">            System.out.println(emp);<span class="comment">//输出员工信息</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>filter(predicate类)</code>用lamba表达式不需要管类型，直接放进去</p>
<p><code>peek(consumer类型)和map()</code>一个里面不用返回值，一个需要。</p>
<p><code>collect()</code> 收集重新归类。</p>
<h1 id="第15章-I-x2F-O-输入与输出"><a href="#第15章-I-x2F-O-输入与输出" class="headerlink" title="第15章 I&#x2F;O(输入与输出)"></a>第15章 I&#x2F;O(输入与输出)</h1><h2 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h2><p>File类是java.io包中唯一代表磁盘文件本身的类。因为是代表磁盘，操作要用try catch语句</p>
<p>三种构造方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File(String pathname)</span><br><span class="line">File(String parent,String child)</span><br><span class="line">File(File f,String child)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File file=<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;word.txt&quot;</span>)<span class="comment">//相对路径，是在项目目录下创建而不是在所在包类,此时是在内存中创建对象</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    file.createNewFile();<span class="comment">//这一步才真正在磁盘中创建文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了在内存中的操作，其他都是不保证成功的，</p>
<h2 id="文件输入-x2F-输出流"><a href="#文件输入-x2F-输出流" class="headerlink" title="文件输入&#x2F;输出流"></a>文件输入&#x2F;输出流</h2><p>文件输入流是从硬盘读取，输出是写到硬盘</p>
<h2 id="FileInputStream与FileOutputStream类"><a href="#FileInputStream与FileOutputStream类" class="headerlink" title="FileInputStream与FileOutputStream类"></a>FileInputStream与FileOutputStream类</h2><p>是字节流</p>
<h2 id="BufferedReader与BufferedWriter类"><a href="#BufferedReader与BufferedWriter类" class="headerlink" title="BufferedReader与BufferedWriter类"></a>BufferedReader与BufferedWriter类</h2><p>以行为单位进行输入&#x2F;输出</p>
<p>读取文件过程：</p>
<p>文件–&gt;<code>InputStream</code>–&gt;<code>InputStreamReader</code>–&gt;<code>BufferedReade</code>r–&gt;字符数据</p>
<p>在使用<code>BufferedWriter</code>类的<code>Writer()</code>方法时，数据首先进入缓存区，没有立刻被写入输出流。如果想立即讲缓存区中的数据写入输出流，一定要调用<code>flush()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(file));<span class="comment">//缓存输入流</span></span><br></pre></td></tr></table></figure>



<h1 id="第16章-反射与注释"><a href="#第16章-反射与注释" class="headerlink" title="第16章 反射与注释"></a>第16章 反射与注释</h1><p>实现访问、检测和修改描述Java对象本身信息的功能。</p>
<p><code>getCLass()</code>是Object类定义的，任何类都可以用，获取类信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Class newC=hashSet.getClass();<span class="comment">//获取hashSet的描述信息，假设hashSet是一本书，那newC是书的目录，作者等等基本信息但不包括内容</span></span><br><span class="line"><span class="comment">//查构造方法</span></span><br><span class="line">Constructor[] constructors=mewC.getDeclaredConstructor;</span><br><span class="line"><span class="keyword">for</span>(Constructor constructor:constructors)&#123;</span><br><span class="line">    System.out.println(constructor);<span class="comment">//找到构造函数foreach遍历显示</span></span><br><span class="line">&#125;</span><br><span class="line">declarednewC=newC.getDeclaredConstructors();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Field[] declaredFields=demClass.getDeclaredFields();</span><br><span class="line">		<span class="keyword">for</span>(Field field:declaredFields) &#123;</span><br><span class="line">			System.out.println(field);</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查成员方法 用户输入参数</span></span><br><span class="line">Method[] declaredMethods=demClass.getDeclaredMethods();</span><br><span class="line">		<span class="keyword">for</span>(Method method:declaredMethods) &#123;</span><br><span class="line">			System.out.println(method);</span><br><span class="line">		&#125;</span><br><span class="line">		Scanner scanner=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">		String key=scanner.next();</span><br><span class="line">		<span class="keyword">for</span>(Method method:declaredMethods) &#123;</span><br><span class="line">			<span class="keyword">if</span>(key.equals(<span class="string">&quot;size&quot;</span>)&amp;&amp;key.equals(method.getName())) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					System.out.println(method.invoke(hashSet));</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (key.equals(<span class="string">&quot;add&quot;</span>) &amp;&amp; key.equals(method.getName())) &#123;<span class="comment">//作判断才知道用户要做那个</span></span><br><span class="line">				<span class="type">String</span> <span class="variable">addString</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					System.out.println(method.invoke(hashSet, addString));</span><br><span class="line">					<span class="keyword">for</span> (String hash : hashSet) &#123;</span><br><span class="line">						System.out.print(hash+<span class="string">&quot; &quot;</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		scanner.close();</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-09-27T13:01:14.000Z" title="2022/9/27 21:01:14">2022-09-27</time>发表</span><span class="level-item"><time dateTime="2022-10-07T04:22:15.138Z" title="2022/10/7 12:22:15">2022-10-07</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a></span><span class="level-item">19 分钟读完 (大约2883个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/09/27/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">pytorch深度学习笔记</a></h1><div class="content"><ul>
<li><code>dir()</code>函数，能让我们知道工具箱以及工具箱中的分隔区有什么东西。</li>
<li><code>help()</code>函数，能让我们知道每个工具是如何使用的，工具的使用方法。<ul>
<li><code>help(a)</code>或者<code>a??</code></li>
</ul>
</li>
</ul>
<p>三个区域编写代码：</p>
<ul>
<li>pycharm的python文件<ul>
<li>整体运行，python文件的块是所有行的代码，适用大型项目</li>
<li>每次都是整体运行</li>
</ul>
</li>
<li>pycharm的python 控制台<ul>
<li>以任意行为块(Shift+Enter)，变量属性在右边查看</li>
<li>出现错误可阅读性大大降低</li>
</ul>
</li>
<li>Jupyter notebook<ul>
<li>同python控制台，Shift+Enter执行块</li>
<li>可以直接修改块中的错误，阅读性加强</li>
<li>环境需要配置</li>
</ul>
</li>
</ul>
<h1 id="加载数据"><a href="#加载数据" class="headerlink" title="加载数据"></a>加载数据</h1><p>一堆数据–&gt;Dataset(提供一种方式去获取数据及其label)–&gt;Dataloader(为后面的网络提供不同的数据形式)</p>
<p>Dataset：</p>
<ul>
<li>如何获取每一个数据及其label</li>
<li>告诉我们总共有多少数据</li>
</ul>
<h2 id="数据的组织形式"><a href="#数据的组织形式" class="headerlink" title="数据的组织形式"></a>数据的组织形式</h2><ul>
<li>文件夹名就是一个label</li>
<li>ocr<ul>
<li>图片</li>
<li>对应图片的文字坐标信息</li>
</ul>
</li>
<li>图片名就是label</li>
</ul>
<p>实战案例：</p>
<p><a target="_blank" rel="noopener" href="http://github.com/JJuprising/upload-img/Snipaste_2022-09-24_23-31-33.png">image-Snipaste_2022-09-24_23-31-33</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyData</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, root_dir, label_dir</span>):</span><br><span class="line">        self.root_dir = root_dir  <span class="comment"># 数据集文件夹</span></span><br><span class="line">        self.label_dir = label_dir  <span class="comment"># 数据集标签</span></span><br><span class="line">        self.path = os.path.join(root_dir, label_dir)  <span class="comment"># 拼接路径 这里正好文件夹名就是标签名</span></span><br><span class="line">        self.img_path = os.listdir(self.path)  <span class="comment"># 将文件夹下图片转换成列表</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):  <span class="comment"># idx是索引</span></span><br><span class="line">        img_name = self.img_path[idx]  <span class="comment"># 获取单张图片名字</span></span><br><span class="line">        img_item_path = os.path.join(self.root_dir, self.label_dir, img_name)  <span class="comment"># 拼接获得单张图的地址</span></span><br><span class="line">        img = Image.<span class="built_in">open</span>(img_item_path)  <span class="comment"># 图片读取</span></span><br><span class="line">        label = self.label_dir  <span class="comment"># 获取标签</span></span><br><span class="line">        <span class="keyword">return</span> img, label</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.img_path)  <span class="comment"># 长度即数据集的列表长度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root_dir = <span class="string">&quot;dataset/train&quot;</span>  <span class="comment"># 大路径</span></span><br><span class="line">ants_label_dir = <span class="string">&quot;ants&quot;</span>  <span class="comment"># 蚂蚁标签</span></span><br><span class="line">bees_label_dir = <span class="string">&quot;bees&quot;</span>  <span class="comment"># 蜜蜂标签</span></span><br><span class="line">ants_dataset = MyData(root_dir, ants_label_dir)  <span class="comment"># 实例化蚂蚁</span></span><br><span class="line">bees_dataset = MyData(root_dir, bees_label_dir)  <span class="comment"># 实例化蜜蜂</span></span><br><span class="line"></span><br><span class="line">train_dataset = ants_dataset + bees_dataset  <span class="comment"># 拼接数据集</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/JJuprising/JJuprising.github.io">https://cdn.jsdelivr.net/gh/JJuprising/JJuprising.github.io</a></p>
<h1 id="Tensorboard"><a href="#Tensorboard" class="headerlink" title="Tensorboard"></a>Tensorboard</h1><p>看模块的代码：按住Ctrl，点模块</p>
<p>打开窗口，不接<code>--port</code>默认打开6006端口的</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=logs --port=6007</span><br></pre></td></tr></table></figure>

<h2 id="add-scalar"><a href="#add-scalar" class="headerlink" title="add_scalar"></a>add_scalar</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from torch.utils.tensorboard import SummaryWriter</span><br><span class="line"></span><br><span class="line">writer=SummaryWriter(&quot;logs&quot;)</span><br><span class="line"></span><br><span class="line">for i in range(100):</span><br><span class="line">    writer.add_scalar(&quot;标题&quot;,y轴,x轴)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>

<p>重新画删掉Logs文件下下的所有文件，在终端Ctrl+c结束后重新打开窗口</p>
<h2 id="add-image"><a href="#add-image" class="headerlink" title="add_image()"></a>add_image()</h2><p>opencv读取到的数据是numpy型</p>
<p>从PIL到numpy，需要在add_image()中指定shape中每一个数字&#x2F;维表示的含义，默认是CHW即通道-高度-宽度，如果导入图片是HWC就要加入说明，见案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;logs&quot;</span>)</span><br><span class="line">image_path = <span class="string">&quot;data/train/ants_image/0013035.jpg&quot;</span></span><br><span class="line">img_PIL = Image.<span class="built_in">open</span>(image_path)  <span class="comment"># 打开图片</span></span><br><span class="line">img_array = np.array(img_PIL)  <span class="comment"># 转成numpy型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(img_array))  <span class="comment"># 验证时numpy型</span></span><br><span class="line"><span class="built_in">print</span>(img_array.shape)  <span class="comment"># 检查图片的形状，发现是HWC，即高度-宽度-通道</span></span><br><span class="line"></span><br><span class="line">writer.add_image(<span class="string">&quot;test&quot;</span>, img_array, dataformats=<span class="string">&quot;HWC&quot;</span>)  <span class="comment"># HWC对应图片的形状</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    writer.add_scalar(<span class="string">&quot;y=2*x&quot;</span>,<span class="number">3</span>*i,i)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>

<h1 id="Transform"><a href="#Transform" class="headerlink" title="Transform"></a>Transform</h1><p>transform.py工具箱，有toTensor，resize等工具，用于处理图片输出想要的图片结果</p>
<ul>
<li>transform的使用</li>
<li>tensor数据类型</li>
</ul>
<p>在括号内Ctrl+P查看要输入的参数</p>
<h2 id="tensor数据类型"><a href="#tensor数据类型" class="headerlink" title="tensor数据类型"></a>tensor数据类型</h2><h2 id="ToTensor-amp-Normalize"><a href="#ToTensor-amp-Normalize" class="headerlink" title="ToTensor&amp;Normalize"></a>ToTensor&amp;Normalize</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span>  torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"></span><br><span class="line">writer=SummaryWriter(<span class="string">&quot;logs&quot;</span>)</span><br><span class="line">img=Image.<span class="built_in">open</span>(<span class="string">&quot;dataset/val/ants/800px-Meat_eater_ant_qeen_excavating_hole.jpg&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ToTensor</span></span><br><span class="line">trans_totensor=transforms.ToTensor()</span><br><span class="line">img_tensor=trans_totensor(img) <span class="comment">#  转成tensor类型</span></span><br><span class="line">writer.add_image(<span class="string">&quot;ToTensor&quot;</span>,img_tensor)</span><br><span class="line"></span><br><span class="line"><span class="comment">#  Normalize</span></span><br><span class="line"><span class="built_in">print</span>(img_tensor[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">trans_norm=transforms.Normalize([<span class="number">3</span>,<span class="number">0.5</span>,<span class="number">0.5</span>],[<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>]) <span class="comment">#  标准差</span></span><br><span class="line">img_norm=trans_norm(img_tensor)</span><br><span class="line"><span class="built_in">print</span>(img_norm[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">writer.add_image(<span class="string">&quot;Normalize&quot;</span>,img_norm,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>



<h2 id="resize"><a href="#resize" class="headerlink" title="resize()"></a>resize()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#接上面代码</span></span><br><span class="line"><span class="comment"># Resize</span></span><br><span class="line"><span class="built_in">print</span>(img.size)  <span class="comment"># 原图的大小(800, 534)</span></span><br><span class="line">trans_resize = transforms.Resize((<span class="number">512</span>, <span class="number">512</span>)) <span class="comment"># 改大小</span></span><br><span class="line"><span class="comment"># img PIL -&gt; resize -&gt; img_resize PIL</span></span><br><span class="line">img_resize = trans_resize(img)</span><br><span class="line"><span class="comment"># img_resize PIL -&gt; totensor -&gt; img_resize tensor</span></span><br><span class="line">img_resize=trans_totensor(img_resize)</span><br><span class="line">writer.add_image(<span class="string">&quot;Resize&quot;</span>,img_resize,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(img_resize)</span><br></pre></td></tr></table></figure>



<h2 id="Compose"><a href="#Compose" class="headerlink" title="Compose()"></a>Compose()</h2><p><code>Compose()</code>中的参数需要一个列表。Python中，列表的表示形式为[数据1，数据2，…]。在<code>Compose</code>中，数据需要是<code>transforms</code>类型，所以得到的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Compose([transforms参数<span class="number">1</span>,transforms参数<span class="number">2</span>,...])</span><br></pre></td></tr></table></figure>

<p>将几步打包成一步：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Compose - resize - 2</span></span><br><span class="line">trans_resize_2 = transforms.Resize(<span class="number">512</span>) <span class="comment"># 只改了宽 没改长</span></span><br><span class="line"><span class="comment"># PIL -&gt; PIL -&gt; tensor</span></span><br><span class="line">tran_compose = transforms.Compose([trans_resize_2, trans_totensor])</span><br><span class="line">img_resize_2 = tran_compose(img)</span><br><span class="line">writer.add_image(<span class="string">&quot;Resize&quot;</span>, img_resize_2, <span class="number">1</span>)</span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>



<h2 id="RandomCrop"><a href="#RandomCrop" class="headerlink" title="RandomCrop()"></a>RandomCrop()</h2><p>随机裁剪出一部分</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">trans_random = transforms.RandomCrop(<span class="number">512</span>) </span><br><span class="line"><span class="comment"># PIL -&gt; PIL -&gt; tensor</span></span><br><span class="line">tran_compose_2 = transforms.Compose([trans_random, trans_totensor])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>): <span class="comment"># 设置不同步数</span></span><br><span class="line">    img_crop=trans_compose_2(img)</span><br><span class="line">    writer.add_image(<span class="string">&quot;RandomCrop&quot;</span>, img_resize_2, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>



<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>关注输入和输出</p>
</li>
<li><p>多看官方文档 <a target="_blank" rel="noopener" href="https://pytorch.org/">PyTorch</a></p>
</li>
<li><p>关注方法需要什么参数</p>
</li>
<li><p>不知道返回值的时候：</p>
<ul>
<li>&#96;&#96;&#96;python<br>print()<br>print(type())<br>调试<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"># torchvision数据集的使用</span><br><span class="line"></span><br><span class="line">官网文档的torchvision.datasets下有很多数据集可以使用</span><br><span class="line"></span><br><span class="line">torchvision.models提供训练好的模型</span><br><span class="line"></span><br><span class="line">torchvision.transform上面讲了</span><br><span class="line"></span><br><span class="line">torchvision.utils提供小工具</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">import torchvision</span><br><span class="line"></span><br><span class="line">train_set=torchvision.datasets.CIFAR10(root=&quot;./dataset/data1&quot;,train=True,download=True) # 下载训练集</span><br><span class="line">test_set=torchvision.datasets.CIFAR10(root=&quot;./dataset/test1&quot;,train=False,download=True) # 下载测试集</span><br><span class="line"></span><br><span class="line">print(test_set[0]) # ( , )的形式，发现第一个是图片第二个是target</span><br><span class="line">print(test_set.classes) # 查看图片有哪些类型(调式看test_set有calsses属性)</span><br><span class="line"></span><br><span class="line">img,target=test_set[0] #接收( , )</span><br><span class="line">print(img)</span><br><span class="line">print(target)</span><br><span class="line">print(test_set.classes[target])</span><br><span class="line">img.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="和transform联动"><a href="#和transform联动" class="headerlink" title="和transform联动"></a>和transform联动</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">dataset_transform=torchvision.transforms.Compose([torchvision.transforms.ToTensor()]) <span class="comment"># 设置transforms</span></span><br><span class="line">train_set=torchvision.datasets.CIFAR10(root=<span class="string">&quot;./dataset/data1&quot;</span>,train=<span class="literal">True</span>,transform=dataset_transform,download=<span class="literal">True</span>) <span class="comment"># 加入transforms参数</span></span><br><span class="line">test_set=torchvision.datasets.CIFAR10(root=<span class="string">&quot;./dataset/test1&quot;</span>,train=<span class="literal">False</span>,transform=dataset_transform,download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">writer=SummaryWriter(<span class="string">&#x27;p10&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    img,target = test_set[i]</span><br><span class="line">    writer.add_image(<span class="string">&quot;test_set&quot;</span>,img,i)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/JJuprising/JJuprising.github.io@main/images/image-20220927212823149.png" alt="image-20220927212823149"></p>
<h1 id="DataLoader"><a href="#DataLoader" class="headerlink" title="DataLoader"></a>DataLoader</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备测试数据集</span></span><br><span class="line">test_data = torchvision.datasets.CIFAR10(<span class="string">&quot;./dataset/test1&quot;</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor())</span><br><span class="line">test_loader = DataLoader(dataset=test_data, batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试数据集中第一张照片及target</span></span><br><span class="line">img, target = test_data[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="built_in">print</span>(target)</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;dataloader&quot;</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> test_loader:</span><br><span class="line">    imgs, targets = data  <span class="comment"># test_loader返回值是batch_size设定的一组图片打包的img和target</span></span><br><span class="line">    writer.add_images(<span class="string">&quot;test_data&quot;</span>, imgs, step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">writer.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/JJuprising/JJuprising.github.io@main/images/image-20220929211159838.png" alt="image-20220929211159838"></p>
<h1 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h1><p><code>torch.nn</code>，Neural Network。</p>
<p><code>nn.Module</code>是所有神经网络的基类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">1</span>, <span class="number">20</span>, <span class="number">5</span>)</span><br><span class="line">        self.conv2 = nn.Conv2d(<span class="number">20</span>, <span class="number">20</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>): <span class="comment"># 隐藏层</span></span><br><span class="line">        x = F.relu(self.conv1(x)) <span class="comment">#  经过一次卷积然后一次非线性 </span></span><br><span class="line">        <span class="keyword">return</span> F.relu(self.conv2(x)) <span class="comment"># 输出</span></span><br><span class="line">    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="卷积操作"><a href="#卷积操作" class="headerlink" title="卷积操作"></a>卷积操作</h2><p><img src="https://s2.loli.net/2022/10/04/qbmG4ki3yrdASMo.png" alt="image.png"></p>
<p><strong>各种参数</strong></p>
<p><img src="https://s2.loli.net/2022/10/04/VfBkvFeRrU7QELC.png" alt="image.png"></p>
<p><strong>Stride</strong></p>
<p>Stirde&#x3D;1表示卷积核在输入图像上移动一格，对应格相乘得到数；从左到右，到边界回到最左向下移动Stride然后重复操作</p>
<p><strong>padding</strong></p>
<p><img src="https://s2.loli.net/2022/10/04/qaZRfAUQYKLWIpH.png" alt="image.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="built_in">input</span>=torch.tensor([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                   [<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line">kernel=torch.tensor([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>],</span><br><span class="line">                     [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line">                     [<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">input</span>.shape) <span class="comment"># 只有两个参数，不能直接放进卷积，要reshape</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">input</span>=torch.reshape(<span class="built_in">input</span>,(<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">5</span>)) <span class="comment"># 5X5矩阵</span></span><br><span class="line">kernel=torch.reshape(kernel,(<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">input</span>.shape)</span><br><span class="line"><span class="built_in">print</span>(kernel.shape) <span class="comment"># 变成四个参数</span></span><br><span class="line"></span><br><span class="line">output=F.conv2d(<span class="built_in">input</span>,kernel,stride=<span class="number">1</span>,padding=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(output)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line"><span class="comment"># torch.Size([5, 5])</span></span><br><span class="line"><span class="comment"># torch.Size([1, 1, 5, 5])</span></span><br><span class="line"><span class="comment"># torch.Size([1, 1, 3, 3])</span></span><br><span class="line"><span class="comment"># tensor([[[[ 1,  3,  4, 10,  8],</span></span><br><span class="line"><span class="comment">#           [ 7, 14, 14, 17,  9],</span></span><br><span class="line"><span class="comment">#           [ 9, 18, 18, 17,  9],</span></span><br><span class="line"><span class="comment">#           [15, 17, 14,  8,  7],</span></span><br><span class="line"><span class="comment">#           [14, 13,  9,  7,  4]]]])</span></span><br></pre></td></tr></table></figure>

<h2 id="卷积层"><a href="#卷积层" class="headerlink" title="卷积层"></a>卷积层</h2><p><code>nn.Conv1d</code>一维卷积，<code>nn.Conv2d</code>二维卷积层…</p>
<p>彩色图像一般是三通道</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CLASS torch.nn.Conv2d(in_channels, out_channels, kernel_size, stride=<span class="number">1</span>, padding=<span class="number">0</span>, dilation=<span class="number">1</span>, groups=<span class="number">1</span>, bias=<span class="literal">True</span>, padding_mode=<span class="string">&#x27;zeros&#x27;</span>, device=<span class="literal">None</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数表 输入通道数，输出通道数，卷积核大小，卷积操作步径大小，边缘填充，卷积核距离...后面都是默认参数</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/vdumoulin/conv_arithmetic/blob/master/README.md#convolution-animations">卷积层示例</a>(动图要梯子才能刷出来)</p>
<p><code>out_channels</code>设置为2时会生成两个卷积核，得到两个叠加的输出。(一般卷积操作会不断增加channels数)</p>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision.datasets</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">dataset = torchvision.datasets.CIFAR10(<span class="string">&quot;/dataset/data2&quot;</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                       download=<span class="literal">True</span>)</span><br><span class="line">dataLoader = DataLoader(dataset, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModule</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Tudui, self).__init__()</span><br><span class="line">        self.conv1 = Conv2d(in_channels=<span class="number">3</span>, out_channels=<span class="number">6</span>, kernel_size=<span class="number">3</span>, stride=<span class="number">1</span>, padding=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.conv1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myModule = MyModule()</span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;logs2&quot;</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataLoader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    output = myModule(imgs)</span><br><span class="line">    <span class="built_in">print</span>(imgs.shape)</span><br><span class="line">    <span class="built_in">print</span>(output.shape)</span><br><span class="line">    <span class="comment"># torch.Size([64,3,32,32])</span></span><br><span class="line">    writer.add_images(<span class="string">&quot;input&quot;</span>, imgs, step)</span><br><span class="line">    <span class="comment"># torch.Size([64,6,30,30]) -&gt; [xxx,3,30,30]</span></span><br><span class="line">    output = torch.reshape(output, (-<span class="number">1</span>, <span class="number">3</span>, <span class="number">30</span>, <span class="number">30</span>))  <span class="comment"># 原本输出通道数变两倍，这一步相当于切开放到一个</span></span><br><span class="line">    writer.add_images(<span class="string">&quot;output&quot;</span>, output, step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/10/05/bMqJYA612urv7FG.png" alt="image.png"></p>
<h2 id="池化层"><a href="#池化层" class="headerlink" title="池化层"></a>池化层</h2><p><strong>ceil_mode</strong></p>
<p>floor向下取整，ceiling向上取整。默认false不够对应不取值</p>
<p><img src="https://s2.loli.net/2022/10/05/o5R7AdYrMSk8lwX.png" alt="image.png"></p>
<p>实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最大池化</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> MaxPool2d</span><br><span class="line"></span><br><span class="line"><span class="built_in">input</span> = torch.tensor([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">                      [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">                      [<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">                      [<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>]], dtype=torch.float32)  <span class="comment"># 声明一下类型否则报错</span></span><br><span class="line"><span class="built_in">input</span> = torch.reshape(<span class="built_in">input</span>, (-<span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">input</span>.shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModule</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModule, self).__init__()</span><br><span class="line">        self.maxpool1 = MaxPool2d(kernel_size=<span class="number">3</span>, ceil_mode=<span class="literal">False</span>) <span class="comment"># 注意ceil_mode</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,<span class="built_in">input</span></span>):</span><br><span class="line">        output=self.maxpool1(<span class="built_in">input</span>)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">myModule = MyModule()</span><br><span class="line">output = myModule(<span class="built_in">input</span>)</span><br><span class="line"><span class="built_in">print</span>(output)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当ceilmode设置为false结果：</span></span><br><span class="line"><span class="comment"># torch.Size([1, 1, 5, 5])</span></span><br><span class="line"><span class="comment"># tensor([[[[2.]]]])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当ceilmode设置为true结果：</span></span><br><span class="line"><span class="comment"># torch.Size([1, 1, 5, 5])</span></span><br><span class="line"><span class="comment"># tensor([[[[2., 3.],</span></span><br><span class="line"><span class="comment">#           [5., 1.]]]])</span></span><br></pre></td></tr></table></figure>



<p><strong>最大池化目的为了保持原先数据的特征同时减少数据量，加快训练速度。</strong>例如720p也能大致看明白1080p视频内容</p>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最大池化</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> MaxPool2d</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">dataset = torchvision.datasets.CIFAR10(<span class="string">&quot;/dataset/data2&quot;</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                       download=<span class="literal">True</span>)</span><br><span class="line">dataLoader = DataLoader(dataset, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModule</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModule, self).__init__()</span><br><span class="line">        self.maxpool1 = MaxPool2d(kernel_size=<span class="number">3</span>, ceil_mode=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, <span class="built_in">input</span></span>):</span><br><span class="line">        output = self.maxpool1(<span class="built_in">input</span>)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myModule = MyModule()</span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;Logs_maxpool&quot;</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataLoader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    writer.add_images(<span class="string">&quot;input&quot;</span>, imgs, step)</span><br><span class="line">    output = myModule(imgs)</span><br><span class="line">    writer.add_images(<span class="string">&quot;output&quot;</span>, output, step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">writer.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/10/05/9cvBhXPkQ6GEub3.png" alt="image.png"></p>
<p>可以看到输出图片变模糊了</p>
<h2 id="非线性激活-Non-linear"><a href="#非线性激活-Non-linear" class="headerlink" title="非线性激活 Non-linear"></a>非线性激活 Non-linear</h2><p>用到<code>ReLu()</code>或<code>Sigmoid()</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Sigmoid, ReLU</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">dataset = torchvision.datasets.CIFAR10(<span class="string">&quot;/dataset/data2&quot;</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                       download=<span class="literal">True</span>)</span><br><span class="line">dataLoader = DataLoader(dataset, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModule</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModule, self).__init__()</span><br><span class="line">        self.relu = ReLU()</span><br><span class="line">        self.sigmoid1 = Sigmoid()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, <span class="built_in">input</span></span>):</span><br><span class="line">        output = self.sigmoid1(<span class="built_in">input</span>)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MyModule = MyModule()</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;logs_relu&quot;</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataLoader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    writer.add_images(<span class="string">&quot;input&quot;</span>, imgs, global_step=step)</span><br><span class="line">    output = MyModule(imgs)</span><br><span class="line">    writer.add_images(<span class="string">&quot;output&quot;</span>, output, global_step=step)</span><br><span class="line">    step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/10/07/AkmqnhzTt5SQO4a.png" alt="image.png"></p>
<p><strong>主要目的在网络中引入更多非线性特征，才能训练出符合更多特征的模型。</strong></p>
<h2 id="线性层及其他层"><a href="#线性层及其他层" class="headerlink" title="线性层及其他层"></a>线性层及其他层</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CLASS torch.nn.Linear(in_features,out_features,biass=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p><code>biass</code>表示要不要设置偏振b</p>
<p><img src="https://s2.loli.net/2022/10/07/IFkEvmwWp1QL23z.png" alt="image.png"></p>
<p><code>flattten()</code>展平成一行</p>
<h2 id="CRAF10小实战及Sequential"><a href="#CRAF10小实战及Sequential" class="headerlink" title="CRAF10小实战及Sequential()"></a>CRAF10小实战及Sequential()</h2><p><img src="https://s2.loli.net/2022/10/07/Pqjv75cuZ6fQVsU.png" alt="image.png"></p>
<p>1、由公式计算第一步卷积得到padding是2(默认设置stride为1)</p>
<p><img src="https://s2.loli.net/2022/10/07/HVp1tdsRDFlgBXQ.png" alt="image.png"></p>
<p>通过对每一步的解析，我们建立出一个简单的模型，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModule</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModule, self).__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myModule = MyModule()</span><br><span class="line"><span class="built_in">print</span>(myModule)</span><br><span class="line"><span class="built_in">input</span> = torch.ones((<span class="number">64</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>))  <span class="comment"># torch提供的一个假设的输入</span></span><br><span class="line">output = myModule(<span class="built_in">input</span>)</span><br><span class="line"><span class="built_in">print</span>(output.shape)</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">&quot;logs_seq2&quot;</span>)</span><br><span class="line">writer.add_graph(myModule,<span class="built_in">input</span>)</span><br><span class="line">writer.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2022/10/07/U7kGqmLQAs2tJVo.png" alt="image.png"></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/09/24/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="fill" src="https://pic1.zhimg.com/v2-dbe054265f77076e47cc1bc80532b054_1440w.jpg?source=172ae18b" alt="python学习笔记"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-09-24T01:30:40.000Z" title="2022/9/24 09:30:40">2022-09-24</time>发表</span><span class="level-item"><time dateTime="2022-09-24T01:34:50.617Z" title="2022/9/24 09:34:50">2022-09-24</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></span><span class="level-item">12 分钟读完 (大约1833个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/09/24/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">python学习笔记</a></h1><div class="content"><p>部分来源：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/">廖雪峰的官方网站</a></p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h2><p>使用默认参数解决调用时缺少实参问题,一定必选参数在前，默认参数在后</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">power</span>(<span class="params">x, n=<span class="number">2</span></span>):</span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>power(<span class="number">5</span>)</span><br><span class="line"><span class="number">25</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p> 定义默认参数要牢记一点：默认参数必须指向不变对象！</p>
</blockquote>
<p>如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_end</span>(<span class="params">L=[]</span>):</span><br><span class="line">    L.append(<span class="string">&#x27;END&#x27;</span>)<span class="comment">#向list尾插入</span></span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_end()</span><br><span class="line">[<span class="string">&#x27;END&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>但是，再次调用<code>add_end()</code>时，结果就不对了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_end()</span><br><span class="line">[<span class="string">&#x27;END&#x27;</span>, <span class="string">&#x27;END&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_end()</span><br><span class="line">[<span class="string">&#x27;END&#x27;</span>, <span class="string">&#x27;END&#x27;</span>, <span class="string">&#x27;END&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>要修改上面的例子，我们可以用<code>None</code>这个不变对象来实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_end</span>(<span class="params">L=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(<span class="string">&#x27;END&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>

<h2 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h2><p><strong>可变参数就是传入的参数个数是可变的</strong></p>
<p>我们把函数的参数改为可变参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc</span>(<span class="params">*numbers</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> + n * n</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br></pre></td></tr></table></figure>

<p>定义可变参数和定义一个list或tuple参数相比，仅仅在参数前面加了一个<code>*</code>号。在函数内部，参数<code>numbers</code>接收到的是一个tuple，因此，函数代码完全不变。但是，调用该函数时，可以传入任意个参数，包括0个参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc()</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(*nums)</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>

<p><code>*nums</code>表示把<code>nums</code>这个list的所有元素作为可变参数传进去。这种写法相当有用，而且很常见。</p>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><h2 id="创建模块"><a href="#创建模块" class="headerlink" title="创建模块"></a>创建模块</h2><ul>
<li>新建一个.py文件，不要和python自带重名</li>
</ul>
<h2 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 模块名称 [<span class="keyword">as</span>别名]</span><br><span class="line"><span class="keyword">from</span> 模块名称 <span class="keyword">import</span> 函数/变量/类</span><br></pre></td></tr></table></figure>



<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入整个</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">print</span>(math.pi)</span><br><span class="line"></span><br><span class="line"><span class="comment">#导入部分</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> pi</span><br><span class="line"><span class="built_in">print</span>(pi)</span><br></pre></td></tr></table></figure>



<p>导入自定义模块要先将自定义模块所在文件下设置为源文件夹（Sources Root）</p>
<h2 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install 模块名 <span class="comment">#在小黑窗在线安装</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> 模块名 <span class="comment">#在python文件使用</span></span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> schedule</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">job</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hhh&quot;</span>)</span><br><span class="line"></span><br><span class="line">schedule.every(<span class="number">3</span>).seconds.do(job)<span class="comment">#每三秒执行一次</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    schedule.run_pending()<span class="comment">#启动</span></span><br><span class="line">    time.sleep(<span class="number">1</span>)<span class="comment">#停一秒</span></span><br></pre></td></tr></table></figure>



<h1 id="以主程序运行"><a href="#以主程序运行" class="headerlink" title="以主程序运行"></a>以主程序运行</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#calc2.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a,b</span>)</span><br><span class="line">	<span class="keyword">return</span> a+b</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span></span><br><span class="line">	printf(add(<span class="number">10</span>,<span class="number">20</span>))<span class="comment">#只有当运行calc2.py时才会输出，当其作为模块引入到其他文件执行时不输出</span></span><br></pre></td></tr></table></figure>

<h1 id="包"><a href="#包" class="headerlink" title="包"></a>包</h1><p>python程序结构：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(Python程序)--&gt;B(包1)</span><br><span class="line">A--&gt;C(包2)</span><br><span class="line">A--&gt;D(包3)</span><br><span class="line">B--&gt;E(模块A)</span><br><span class="line">B--&gt;F(模块B)</span><br><span class="line">C--&gt;G(模块A)</span><br><span class="line">C--&gt;H(模块B)</span><br></pre></td></tr></table></figure>

<h2 id="包与目录的区别"><a href="#包与目录的区别" class="headerlink" title="包与目录的区别"></a>包与目录的区别</h2><ul>
<li>包(package)包含_<em>init_</em>.py文件</li>
<li>目录(directory)里通常不包含_<em>init_</em>.py文件</li>
</ul>
<p>导入同目录下的包里的模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> package.module_A <span class="keyword">as</span> ma <span class="comment">#别名</span></span><br><span class="line"><span class="built_in">print</span>(ma.a)</span><br></pre></td></tr></table></figure>

<p>使用<code>import</code>导入时只能跟包名和模块名</p>
<p>想要导入变量用<code>from</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> package.moudle_A <span class="keyword">import</span> a</span><br></pre></td></tr></table></figure>

<p><img src="https://jjuprising.github.io/images/image-20220923230121039.png" alt="image-20220923230121039"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(模块与包)--&gt;B(模块)</span><br><span class="line">A--&gt;C(包)</span><br><span class="line">B--&gt;D(避免函数名/变量名重名)</span><br><span class="line">B--&gt;E(自定义模块)</span><br><span class="line">B--&gt;F(第三方模块)</span><br><span class="line">E--&gt;G(一个.py文件称为一个模块)</span><br><span class="line">F--&gt;H(安装:pip install 模块名)</span><br><span class="line">F--&gt;I(使用:from ...import 模块名)</span><br><span class="line">C--&gt;J(避免模块名重名)</span><br><span class="line">C--&gt;K(包含__init__.py文件)</span><br></pre></td></tr></table></figure>

<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="类和实例"><a href="#类和实例" class="headerlink" title="类和实例"></a>类和实例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, score</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">print_score</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.score))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：特殊方法“__init__”前后分别有两个下划线！！！</p>
</blockquote>
<p>注意到<code>__init__</code>方法的第一个参数永远是<code>self</code>，表示创建的实例本身，因此，在<code>__init__</code>方法内部，就可以把各种属性绑定到<code>self</code>，因为<code>self</code>就指向创建的实例本身。</p>
<p>有了<code>__init__</code>方法，在创建实例的时候，就不能传入空的参数了，必须传入与<code>__init__</code>方法匹配的参数，但<code>self</code>不需要传，Python解释器自己会把实例变量传进去：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">59</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.name</span><br><span class="line"><span class="string">&#x27;Bart Simpson&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.score</span><br><span class="line"><span class="number">59</span></span><br></pre></td></tr></table></figure>

<h2 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h2><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>我们已经编写了一个名为<code>Animal</code>的class，有一个<code>run()</code>方法可以直接打印：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Animal is running...&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>当我们需要编写<code>Dog</code>和<code>Cat</code>类时，就可以直接从<code>Animal</code>类继承：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><strong>在括号放父类</strong></p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>在继承关系中，如果一个实例的数据类型是某个子类，那它的数据类型也可以被看做是父类。但是，反过来就不行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = Animal()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(b, Dog)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">run_twice</span>(<span class="params">animal</span>):</span><br><span class="line">    animal.run()</span><br><span class="line">    animal.run()</span><br><span class="line">    </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Animal())</span><br><span class="line">Animal <span class="keyword">is</span> running...</span><br><span class="line">Animal <span class="keyword">is</span> running...</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Dog())</span><br><span class="line">Dog <span class="keyword">is</span> running...</span><br><span class="line">Dog <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure>

<p><strong>你会发现，新增一个<code>Animal</code>的子类，不必对<code>run_twice()</code>做任何修改，实际上，任何依赖<code>Animal</code>作为参数的函数或者方法都可以不加修改地正常运行，原因就在于多态。</strong></p>
<p>这就是多态的意思：</p>
<p>对于一个变量，我们只需要知道它是<code>Animal</code>类型，无需确切地知道它的子类型，就可以放心地调用<code>run()</code>方法，而具体调用的<code>run()</code>方法是作用在<code>Animal</code>、<code>Dog</code>、<code>Cat</code>对象上，由<strong>运行时该对象的确切类型决定</strong>，这就是多态真正的威力：调用方<strong>只管调用，不管细节</strong>，而当我们新增一种<code>Animal</code>的子类时，只要确保<code>run()</code>方法编写正确，不用管原来的代码是如何调用的。这就是著名的“开闭”原则：</p>
<ul>
<li><p>对扩展开放：允许新增<code>Animal</code>子类；</p>
</li>
<li><p>对修改封闭：不需要修改依赖<code>Animal</code>类型的<code>run_twice()</code>等函数。</p>
</li>
</ul>
<h2 id="获取对象信息"><a href="#获取对象信息" class="headerlink" title="获取对象信息"></a>获取对象信息</h2><h3 id="使用type"><a href="#使用type" class="headerlink" title="使用type()"></a>使用type()</h3><p>首先，我们来判断对象类型，使用<code>type()</code>函数：</p>
<p>基本类型都可以用<code>type()</code>判断：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="number">123</span>)</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;int&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="literal">None</span>)</span><br><span class="line">&lt;<span class="built_in">type</span>(<span class="literal">None</span>) <span class="string">&#x27;NoneType&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="使用isinstance"><a href="#使用isinstance" class="headerlink" title="使用isinstance()"></a>使用isinstance()</h3><p>对于class的继承关系来说，使用<code>type()</code>就很不方便。我们要判断class的类型，可以使用<code>isinstance()</code>函数。</p>
<p>我们回顾上次的例子，如果继承关系是：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> -&gt; Animal -&gt; Dog -&gt; Husky</span><br></pre></td></tr></table></figure>

<p>那么，<code>isinstance()</code>就可以告诉我们，一个对象是否是某种类型。先创建3种类型的对象：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = Animal()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>h = Husky()</span><br></pre></td></tr></table></figure>

<p>然后，判断：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(h, Husky)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(h, Animal)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="使用dir"><a href="#使用dir" class="headerlink" title="使用dir()"></a>使用dir()</h3><p>如果要获得一个对象的所有属性和方法，可以使用<code>dir()</code>函数，它返回一个包含字符串的list，比如，获得一个str对象的所有属性和方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(<span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;__add__&#x27;</span>, <span class="string">&#x27;__class__&#x27;</span>,..., <span class="string">&#x27;__subclasshook__&#x27;</span>, <span class="string">&#x27;capitalize&#x27;</span>, <span class="string">&#x27;casefold&#x27;</span>,..., <span class="string">&#x27;zfill&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>类似<code>__xxx__</code>的属性和方法在Python中都是有特殊用途的，比如<code>__len__</code>方法返回长度。在Python中，如果你调用<code>len()</code>函数试图获取一个对象的长度，实际上，在<code>len()</code>函数内部，它自动去调用该对象的<code>__len__()</code>方法，所以，下面的代码是等价的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(<span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;ABC&#x27;</span>.__len__()</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>我们自己写的类，如果也想用<code>len(myObj)</code>的话，就自己写一个<code>__len__()</code>方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">MyDog</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dog = MyDog()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(dog)</span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/09/06/js%E5%AF%BC%E5%87%BAjson%E6%96%87%E4%BB%B6/"><img class="fill" src="https://s2.loli.net/2022/09/06/tJcFiS5mzdERBak.png" alt="js导出json文件"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-09-06T14:29:56.000Z" title="2022/9/6 22:29:56">2022-09-06</time>发表</span><span class="level-item"><time dateTime="2022-09-06T14:52:10.168Z" title="2022/9/6 22:52:10">2022-09-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></span><span class="level-item">3 分钟读完 (大约487个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/09/06/js%E5%AF%BC%E5%87%BAjson%E6%96%87%E4%BB%B6/">js导出json文件</a></h1><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">saveJSON</span>(<span class="params">data, filename</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;保存的数据为空&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!filename) filename = <span class="string">&quot;json.json&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> data === <span class="string">&quot;object&quot;</span>) &#123;</span><br><span class="line">        data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data, <span class="literal">undefined</span>, <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([data], &#123; <span class="attr">type</span>: <span class="string">&quot;text/json&quot;</span> &#125;),</span><br><span class="line">        e = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&quot;MouseEvents&quot;</span>),</span><br><span class="line">        a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">    a.<span class="property">download</span> = filename;</span><br><span class="line">    a.<span class="property">href</span> = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">    a.<span class="property">dataset</span>.<span class="property">downloadurl</span> = [<span class="string">&quot;text/json&quot;</span>, a.<span class="property">download</span>, a.<span class="property">href</span>].<span class="title function_">join</span>(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">    e.<span class="title function_">initMouseEvent</span>(</span><br><span class="line">        <span class="string">&quot;click&quot;</span>,</span><br><span class="line">        <span class="literal">true</span>,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="variable language_">window</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="number">0</span>,</span><br><span class="line">        <span class="literal">null</span></span><br><span class="line">    );</span><br><span class="line">    a.<span class="title function_">dispatchEvent</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Blob"><a href="#Blob" class="headerlink" title="Blob"></a>Blob</h1><p>Blob，Binary Large Object的缩写，代表二进制类型的大对象。通俗点说，就是Blob对象是二进制数据，但它是类似文件对象的二进制数据，因此可以像操作File对象一样操作Blob对象，实际上，File继承自Blob。</p>
<h2 id="从字符串创建-Blob"><a href="#从字符串创建-Blob" class="headerlink" title="从字符串创建 Blob"></a>从字符串创建 Blob</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myBlobParts = [<span class="string">&#x27;&lt;html&gt;&lt;h2&gt;Hello Semlinker&lt;/h2&gt;&lt;/html&gt;&#x27;</span>]; <span class="comment">// an array consisting of a single DOMString</span></span><br><span class="line"><span class="keyword">let</span> myBlob = <span class="keyword">new</span> <span class="title class_">Blob</span>(myBlobParts, &#123;type : <span class="string">&#x27;text/html&#x27;</span>, <span class="attr">endings</span>: <span class="string">&quot;transparent&quot;</span>&#125;); <span class="comment">// the blob</span></span><br></pre></td></tr></table></figure>

<h2 id="从类型化数组和字符串创建-Blob"><a href="#从类型化数组和字符串创建-Blob" class="headerlink" title="从类型化数组和字符串创建 Blob"></a>从类型化数组和字符串创建 Blob</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hello = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>([<span class="number">72</span>, <span class="number">101</span>, <span class="number">108</span>, <span class="number">108</span>, <span class="number">111</span>]); <span class="comment">// 二进制格式的 &quot;hello&quot;</span></span><br><span class="line"><span class="keyword">let</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([hello, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;semlinker&#x27;</span>], &#123;<span class="attr">type</span>: <span class="string">&#x27;text/plain&#x27;</span>&#125;);</span><br></pre></td></tr></table></figure>



<h1 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h1><h2 id="Document-createEvent"><a href="#Document-createEvent" class="headerlink" title="Document.createEvent()"></a>Document.createEvent()</h2><p>创建一个指定类型的事件。其返回的对象必须先初始化并可以被传递给<code>element.dispatchEvent</code></p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(type);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>event</code> 就是被创建的 Event 对象。</li>
<li><code>type</code> 是一个字符串，表示要创建的事件类型。事件类型可能包括<code>&quot;UIEvents&quot;</code>, <code>&quot;MouseEvents&quot;</code>, <code>&quot;MutationEvents&quot;</code>, 或者 <code>&quot;HTMLEvents&quot;</code>。</li>
</ul>
<h2 id="MouseEvent-initMouseEvent"><a href="#MouseEvent-initMouseEvent" class="headerlink" title="MouseEvent.initMouseEvent()"></a>MouseEvent.initMouseEvent()</h2><p>已弃用的特性，建议查阅相关文档改进</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/initMouseEvent">MouseEvent.initMouseEvent() - Web API 接口参考 | MDN (mozilla.org)</a></p>
<h2 id="EventTarget-dispatchEvent"><a href="#EventTarget-dispatchEvent" class="headerlink" title="EventTarget.dispatchEvent"></a>EventTarget.dispatchEvent</h2><p>向一个指定的事件目标派发一个事件, 并以合适的顺序<strong>同步调用</strong>目标元素相关的事件处理函数。标准事件处理规则 (包括事件捕获和可选的冒泡过程) 同样适用于通过手动的使用<code>dispatchEvent()</code>方法派发的事件。</p>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cancelled = !target.<span class="title function_">dispatchEvent</span>(event)</span><br></pre></td></tr></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li><code>event</code> 是要被派发的事件对象。</li>
<li><code>target</code> 被用来初始化事件和决定将会触发目标。</li>
</ul>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/08/24/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><img class="fill" src="https://ts1.cn.mm.bing.net/th/id/R-C.d8cc952403d8e025ab31420a7ebbb3f4?rik=8r8bU7RUT2092Q&amp;riu=http%3a%2f%2fwww.kuaipng.com%2fUploads%2fpic%2fw%2f2020%2f06-11%2f85112%2fwater_85112_698_698_.png&amp;ehk=7TE1Ln1gInebI2BQO5CZO97ryOn%2bSQh3kx17RZXKvlM%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0" alt="微信小程序学习笔记"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-08-24T14:42:09.000Z" title="2022/8/24 22:42:09">2022-08-24</time>发表</span><span class="level-item"><time dateTime="2022-10-15T16:43:35.046Z" title="2022/10/16 00:43:35">2022-10-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></span><span class="level-item">43 分钟读完 (大约6507个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/08/24/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">微信小程序学习笔记</a></h1><div class="content"><h1 id="Keys"><a href="#Keys" class="headerlink" title="Keys"></a>Keys</h1><h2 id="云数据库查询"><a href="#云数据库查询" class="headerlink" title="云数据库查询"></a>云数据库查询</h2><h3 id="获取不到数据"><a href="#获取不到数据" class="headerlink" title="获取不到数据"></a>获取不到数据</h3><ul>
<li>云数据库get出来是空数组，一般是因为没有打开权限，修改为”所有用户可读即可”。</li>
</ul>
<p><img src="https://s2.loli.net/2022/09/04/TUYPLypO4MNEVhf.png" alt="image.png"></p>
<ul>
<li>where条件查询要添加查询的索引，如果传入的是<code>undefined</code>会获取该数据集合的全部记录</li>
<li><strong>调试！调试！调试！</strong>，如果获取到<code>undefined</code>注意多调试，可能是对象属性的问题，例如一般返回<code>res</code>，而<code>res</code>下还有一层<code>data</code>,因此获取想要的字段数据一般是<code>res.data[0].[字段名]</code></li>
</ul>
<h2 id="异步同步问题"><a href="#异步同步问题" class="headerlink" title="异步同步问题"></a>异步同步问题</h2><p>特别是数据库的请求是异步的这个千万注意。</p>
<p>解决办法：网上大致用Promise 我也没有自己研究，我的解决办法是涉及到数据库的写成一个函数然后调用函数的时候设置2秒延时执行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span></span><br><span class="line">          <span class="comment">//调用数据库</span></span><br><span class="line">          ,<span class="number">2000</span>)</span><br></pre></td></tr></table></figure>



<h2 id="请求数据限制"><a href="#请求数据限制" class="headerlink" title="请求数据限制"></a>请求数据限制</h2><p>云数据库请求记录数据有20段的限制(偶然发现获取到的数据少了一些才查到这个规则)，建议把多的数据打包成数组放在一个字段里。</p>
<p>网上有分页方法还没学会，但是显然是提前打包好数据更为省事。</p>
<h2 id="数组值传递的时候变字符串"><a href="#数组值传递的时候变字符串" class="headerlink" title="数组值传递的时候变字符串"></a>数组值传递的时候变字符串</h2><p>在查bug的时候发现数组<code>totalIncomeKeep=[ , , ]</code>在经过options传值后变成了<code>totalIncomeKeep= , , ,</code>，查了一下是字符串类型。刚开始尝试 <code>JSON.parse()</code>但是发现他是把将数组字符串转为数组对象。</p>
<p>​        应该使用<code>totalIncomeKeep.split(&quot;,&quot;)</code>，传过来的字符串就是按“，”分割的，这是直接用<code>str.split(&quot;,&quot;)</code>就成了！</p>
<h1 id="实用组件模板"><a href="#实用组件模板" class="headerlink" title="实用组件模板"></a>实用组件模板</h1><h2 id="1-返回前页"><a href="#1-返回前页" class="headerlink" title="1.返回前页"></a>1.返回前页</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">	<span class="attr">delta</span>:<span class="number">4</span><span class="comment">//delta值就是往前返回几页</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-输入框-滑动两种输入数值方式"><a href="#2-输入框-滑动两种输入数值方式" class="headerlink" title="2.输入框+滑动两种输入数值方式"></a>2.输入框+滑动两种输入数值方式</h2><p>​        input和text同行,同时滑动块根据输入框动态改变，当输入值小于滑动范围时会提示过小(大)。</p>
<p><img src="https://s2.loli.net/2022/08/16/2kbSh3ga1K8sPun.png" alt="image-20220816220009337"></p>
<h4 id="wxml"><a href="#wxml" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&#x27;&#123;&#123;!changeStatus&#125;&#125;&#x27;</span> <span class="attr">class</span>=<span class="string">&quot;view-contain-ti&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 设置面积 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;text class=&quot;text-ti&quot;&gt;设置民宿面积&lt;/text&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;display:flex;align-items:center&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span>设置民宿面积(平方米):<span class="tag">&lt;/<span class="name">text</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;inputl&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;usernameInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入5-500的数字&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;inputValue&#125;&#125;&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slider</span> <span class="attr">bindchange</span>=<span class="string">&quot;sliderchange&quot;</span> <span class="attr">min</span>=<span class="string">&quot;&#123;&#123;minValue&#125;&#125;&quot;</span> <span class="attr">max</span>=<span class="string">&quot;&#123;&#123;maxValue&#125;&#125;&quot;</span> <span class="attr">block-size</span>=<span class="string">&quot;20&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;areaValue&#125;&#125;&quot;</span> <span class="attr">show-value</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="js"><a href="#js" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实时获取数据</span></span><br><span class="line">   <span class="attr">usernameInput</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">       <span class="keyword">let</span> value = <span class="variable language_">this</span>.<span class="title function_">validateNumber</span>(e.<span class="property">detail</span>.<span class="property">value</span>);</span><br><span class="line">       <span class="keyword">if</span>(value&lt;=<span class="number">500</span>&amp;&amp;value&gt;=<span class="number">5</span>)&#123;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">               <span class="attr">areaValue</span>: value</span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value&lt;<span class="number">5</span>)&#123;</span><br><span class="line">           wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">               <span class="attr">title</span>: <span class="string">&quot;面积设置过小！&quot;</span>, <span class="comment">// 提示的内容</span></span><br><span class="line">               <span class="attr">icon</span>: <span class="string">&quot;none&quot;</span>, <span class="comment">// 图标，默认success</span></span><br><span class="line">               <span class="attr">image</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// 自定义图标的本地路径，image 的优先级高于 icon</span></span><br><span class="line">               <span class="attr">duration</span>: <span class="number">700</span>, <span class="comment">// 提示的延迟时间，默认1500</span></span><br><span class="line">               <span class="attr">mask</span>: <span class="literal">false</span>, <span class="comment">// 是否显示透明蒙层，防止触摸穿透</span></span><br><span class="line">       &#125;)</span><br><span class="line">           <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">               <span class="attr">areaValue</span>: <span class="number">5</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value&gt;<span class="number">500</span>)&#123;</span><br><span class="line">           wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">               <span class="attr">title</span>: <span class="string">&quot;面积设置过大！&quot;</span>, <span class="comment">// 提示的内容</span></span><br><span class="line">               <span class="attr">icon</span>: <span class="string">&quot;none&quot;</span>, <span class="comment">// 图标，默认success</span></span><br><span class="line">               <span class="attr">image</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// 自定义图标的本地路径，image 的优先级高于 icon</span></span><br><span class="line">               <span class="attr">duration</span>: <span class="number">700</span>, <span class="comment">// 提示的延迟时间，默认1500</span></span><br><span class="line">               <span class="attr">mask</span>: <span class="literal">false</span>, <span class="comment">// 是否显示透明蒙层，防止触摸穿透</span></span><br><span class="line">       &#125;)</span><br><span class="line">           <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">               <span class="attr">areaValue</span>: <span class="number">500</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">               <span class="attr">areaValue</span>: <span class="number">5</span>,</span><br><span class="line">               <span class="attr">inputValue</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">           &#125;)</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="comment">//数字限制</span></span><br><span class="line">   <span class="title function_">validateNumber</span>(<span class="params">val</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> val.<span class="title function_">replace</span>(<span class="regexp">/\D/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * slider滑动监听事件,滑动选择面积大小</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="attr">sliderchange</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">           <span class="attr">textValue</span>: <span class="string">&#x27;设置民宿面积:&#x27;</span> + e.<span class="property">detail</span>.<span class="property">value</span> + <span class="string">&#x27; 平方米&#x27;</span>,</span><br><span class="line">           <span class="attr">areaValue</span>: e.<span class="property">detail</span>.<span class="property">value</span>,</span><br><span class="line">           <span class="attr">inputValue</span>:e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">       &#125;)</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`当前值`</span>, <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">areaValue</span>)</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="3-自定义弹窗"><a href="#3-自定义弹窗" class="headerlink" title="3.自定义弹窗"></a>3.自定义弹窗</h2><p>​        通过wx:if控制view的显隐实现弹窗效果，可以关注一下wxss的相关样式</p>
<h4 id="wxml-1"><a href="#wxml-1" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&#x27;&#123;&#123;showModal&#125;&#125;&#x27;</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;mask_layer&#x27;</span> <span class="attr">bindtap</span>=<span class="string">&#x27;modal_click_Hidden&#x27;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;modal_box&#x27;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 弹窗内容--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;modalMsg&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;btn1&#x27;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&#x27;modal_click_Hidden&#x27;</span> <span class="attr">class</span>=<span class="string">&#x27;cancel&#x27;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&#x27;Sure&#x27;</span> <span class="attr">class</span>=<span class="string">&#x27;Sure&#x27;</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss"><a href="#wxss" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mask_layer</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">position</span>: fixed;</span><br><span class="line"> <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line"> <span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line"> <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line"> <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.modal_box</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">76%</span>;</span><br><span class="line"> <span class="attribute">overflow</span>: hidden;</span><br><span class="line"> <span class="attribute">position</span>: fixed;</span><br><span class="line"> <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line"> <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line"> <span class="attribute">z-index</span>: <span class="number">1001</span>;</span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#fafafa</span>;</span><br><span class="line"> <span class="attribute">margin</span>: -<span class="number">150px</span> <span class="number">12%</span> <span class="number">0</span> <span class="number">12%</span>;</span><br><span class="line"> <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line"> <span class="attribute">text-align</span>: center;</span><br><span class="line"> <span class="attribute">background-color</span>: gazure;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line"> <span class="attribute">overflow-y</span>: scroll; <span class="comment">/*超出父盒子高度可滚动*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.input_show1</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn1</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">margin-top</span>: <span class="number">65</span>rpx;</span><br><span class="line"> <span class="attribute">display</span>: flex;</span><br><span class="line"> <span class="attribute">flex-direction</span>: row;</span><br><span class="line"> <span class="attribute">align-items</span>: center;</span><br><span class="line"> <span class="attribute">justify-content</span>: space-between;</span><br><span class="line"> <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line"> <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cancel</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line"> <span class="attribute">text-align</span>: center;</span><br><span class="line"> <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Sure</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line"> <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#44b549</span>;</span><br><span class="line"> <span class="attribute">background-color</span>: white;</span><br><span class="line"> <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#d0d0d0</span>;</span><br><span class="line"> <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.modalMsg</span> &#123;</span><br><span class="line"> <span class="attribute">text-align</span>: center;</span><br><span class="line"> <span class="attribute">margin-top</span>: <span class="number">45</span>rpx;</span><br><span class="line"> <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="js-1"><a href="#js-1" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">showCancelOrder</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">   <span class="attr">showModal</span>:<span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line">   <span class="comment">//取消</span></span><br><span class="line"> <span class="attr">modal_click_Hidden</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">   <span class="attr">showModal</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">// 确定</span></span><br><span class="line"> <span class="title class_">Sure</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="4-数据可视化"><a href="#4-数据可视化" class="headerlink" title="4.数据可视化"></a>4.数据可视化</h2><p>点击后显示坐标点的信息</p>
<p><img src="https://s2.loli.net/2022/08/17/zpTEDSjcJ4qnH6R.png" alt="image-20220817224609612"></p>
<p>​        下载echarts的微信小程序版本：<a target="_blank" rel="noopener" href="https://github.com/ecomfe/echarts-for-weixin">echarts-for-weixin</a> ，地址在：<a target="_blank" rel="noopener" href="https://github.com/ecomfe/echarts-for-weixin%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%90%8E%E8%A7%A3%E5%8E%8B%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%85%B6%E4%B8%AD%E7%9A%84ec-canvas%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82">https://github.com/ecomfe/echarts-for-weixin，下载后解压，只需要其中的ec-canvas文件夹。</a></p>
<p>​        在需要引用echarts的页面json文件中，添加echarts引用（注意echarts的相对路径）：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ec-canvas&quot;</span><span class="punctuation">:</span> <span class="string">&quot;../../ec-canvas/ec-canvas&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;详情&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>​        在需要引用echarts的js文件中，引入echars.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;../../ec-canvas/echarts&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="wxml-2"><a href="#wxml-2" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;echart_panel&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ec-canvas</span> <span class="attr">id</span>=<span class="string">&quot;mychart&quot;</span> <span class="attr">canvas-id</span>=<span class="string">&quot;mychart-line&quot;</span> <span class="attr">ec</span>=<span class="string">&quot;&#123;&#123; ec &#125;&#125;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">ec-canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="js-2"><a href="#js-2" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--js--&gt;</span><br><span class="line"><span class="comment">//在外部</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;../../components/ec-canvas/echarts&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">getApp</span>();</span><br><span class="line"><span class="keyword">let</span> chart;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在Page</span></span><br><span class="line"></span><br><span class="line"><span class="attr">onLoad</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">initChart</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**设置图表映射 */</span></span><br><span class="line">    <span class="attr">initChart</span>: <span class="keyword">function</span> (<span class="params">xData, yData</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">ecComponent</span> = <span class="variable language_">this</span>.<span class="title function_">selectComponent</span>(<span class="string">&#x27;#mychart&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> option = &#123;</span><br><span class="line">            <span class="attr">grid</span>: &#123;</span><br><span class="line">                <span class="attr">containLabel</span>: <span class="literal">true</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">tooltip</span>: &#123;<span class="comment">//重写图表提示内容</span></span><br><span class="line">                <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">trigger</span>: <span class="string">&#x27;axis&#x27;</span>,</span><br><span class="line">                <span class="attr">position</span>: [<span class="string">&#x27;50%&#x27;</span>, <span class="string">&#x27;30%&#x27;</span>],</span><br><span class="line">                <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">params</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> params[<span class="number">0</span>].<span class="property">axisValue</span> + <span class="string">&#x27;: &#x27;</span> + params[<span class="number">0</span>].<span class="property">data</span> + <span class="string">&#x27;元&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">xAxis</span>: &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;category&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;时间&#x27;</span>,</span><br><span class="line">                <span class="attr">data</span>: xData,<span class="comment">//异步请求的数据</span></span><br><span class="line">                <span class="attr">nameTextStyle</span>: &#123;</span><br><span class="line">                    <span class="attr">fontSize</span>: <span class="number">10</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">splitLine</span>: &#123;</span><br><span class="line">                    <span class="attr">show</span>: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">yAxis</span>: &#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;value&#x27;</span>,</span><br><span class="line">                <span class="attr">title</span>: <span class="string">&#x27;收益&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;元&#x27;</span>,</span><br><span class="line">                <span class="attr">axisLabel</span>: &#123;</span><br><span class="line">                    <span class="attr">formatter</span>: <span class="keyword">function</span> (<span class="params">p</span>) &#123;<span class="comment">//重写y坐标数值单位</span></span><br><span class="line">                        <span class="keyword">return</span> p;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">nameTextStyle</span>: &#123;</span><br><span class="line">                    <span class="attr">fontSize</span>: <span class="number">15</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">series</span>: [&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;总收益&#x27;</span>,</span><br><span class="line">                <span class="attr">data</span>: yData,<span class="comment">//异步请求的数据</span></span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">                <span class="attr">label</span>: &#123;</span><br><span class="line">                    <span class="attr">show</span>: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;],</span><br><span class="line">            <span class="attr">dataPointShape</span>: <span class="literal">true</span>, <span class="comment">//是否在图标上显示数据点标志</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//echarts会继承父元素的宽高,所以我们一定要设置echarts组件父元素的高度。</span></span><br><span class="line">        <span class="keyword">var</span> myChart = that.<span class="property">ecComponent</span>.<span class="title function_">init</span>(<span class="function">(<span class="params">canvas, width, height</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> chart = echarts.<span class="title function_">init</span>(canvas, <span class="literal">null</span>, &#123;</span><br><span class="line">                <span class="attr">width</span>: width,</span><br><span class="line">                <span class="attr">height</span>: height,</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//此处为折线图的点击事件，点击展示折点信息</span></span><br><span class="line">            chart.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">handler, context</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> handlerValue = handler.<span class="property">name</span> + <span class="string">&#x27; :  &#x27;</span> + handler.<span class="property">value</span>+<span class="string">&#x27;元&#x27;</span></span><br><span class="line">                wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">                    <span class="attr">title</span>: handlerValue,</span><br><span class="line">                    <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">                    <span class="attr">duration</span>: <span class="number">1200</span>,</span><br><span class="line">                    <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//给echarts 设置数据及配置项（图表类型、数据量等）</span></span><br><span class="line">            chart.<span class="title function_">setOption</span>(option);</span><br><span class="line">            <span class="keyword">return</span> chart;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="wxss-1"><a href="#wxss-1" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- wxss --&gt;</span><br><span class="line"><span class="selector-class">.echart_panel</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">700</span>rpx;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h2 id="5-循环渲染多选框同时根据条件显示样式"><a href="#5-循环渲染多选框同时根据条件显示样式" class="headerlink" title="5.循环渲染多选框同时根据条件显示样式"></a>5.循环渲染多选框同时根据条件显示样式</h2><p>​        设定的样式至少有五种，根据选项设定的权重来显示不同的样式（大于两种）。只在网上查到了运用三目运算符，没有多想，误以为只能设置两种。后来想到可以嵌套。！</p>
<p><img src="https://s2.loli.net/2022/08/18/D8jxYpvMUdSNlXs.png" alt="image-20220818131332986"></p>
<h4 id="wxml-3"><a href="#wxml-3" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;every_tab&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checkbox-group</span> <span class="attr">bindchange</span>=<span class="string">&quot;checkboxChange3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;select&quot;</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- 循环时外层是items 内层的单个对象是item--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;cell&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;items&#125;&#125;&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;index&gt;78&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;value&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 三目运算符嵌套 根据items数组内对象的weight属性条件来显示样式--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;&#123;&#123;item.weight==1?&#x27;weight1&#x27;:(item.weight==2?&#x27;weight2&#x27;:(item.weight==3?&#x27;weight3&#x27;:(item.weight==4?&#x27;weight4&#x27;:&#x27;weight5&#x27;)))&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;item.name&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;&#123;&#123;item.checked&#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">checkbox-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss-2"><a href="#wxss-2" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.weigth1</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weight2</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weight3</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weight3</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weight4</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: blueviolet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.weight5</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="js-3"><a href="#js-3" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">     <span class="attr">items</span>: [</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">weight</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;床品每客一换&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">weight</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;行李寄存&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;3&#x27;</span>, <span class="attr">weight</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;自助入住&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;4&#x27;</span>, <span class="attr">weight</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;保安&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;5&#x27;</span>, <span class="attr">weight</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;管家式服务&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">value</span>: <span class="string">&#x27;6&#x27;</span>, <span class="attr">weight</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;床品一天一换&#x27;</span> &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="comment">/*设施多选框 */</span></span><br><span class="line">    <span class="title function_">checkboxChange</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;checkbox发生change事件，携带value值为：&#x27;</span>, e.<span class="property">detail</span>.<span class="property">value</span>)</span><br><span class="line">        <span class="keyword">const</span> items = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">items</span></span><br><span class="line">        <span class="keyword">const</span> values = e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, lenI = <span class="number">6</span>; i &lt; lenI; ++i) &#123;</span><br><span class="line">            items[i].<span class="property">checked</span> = <span class="literal">false</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>, lenJ = values.<span class="property">length</span>; j &lt; lenJ; ++j) &#123;<span class="comment">//遍历</span></span><br><span class="line">                <span class="keyword">if</span> (items[i].<span class="property">value</span> === values[j]) &#123;</span><br><span class="line">                    items[i].<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            items</span><br><span class="line">            </span><br><span class="line">        &#125;)</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>



<h2 id="6-进度条"><a href="#6-进度条" class="headerlink" title="6.进度条"></a>6.进度条</h2><table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">默认值</th>
<th align="left">必填</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">percent</td>
<td align="left">number</td>
<td align="left"></td>
<td align="left">否</td>
<td align="left">百分比0~100</td>
</tr>
<tr>
<td align="left">show-info</td>
<td align="left">boolean</td>
<td align="left">false</td>
<td align="left">否</td>
<td align="left">在进度条右侧显示百分比</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/JJuprising/upload-img/image-20220824003057165.png" alt="image-20220824003057165"></p>
<h4 id="wxml-4"><a href="#wxml-4" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;progress-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> &gt;</span>进度：<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">progress</span> <span class="attr">percent</span>=<span class="string">&quot;&#123;&#123;persent&#125;&#125;&quot;</span> <span class="attr">show-info</span> <span class="attr">stroke-width</span>=<span class="string">&quot;3&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss-3"><a href="#wxss-3" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.progress-box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">85%</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">70</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-搜索框"><a href="#7-搜索框" class="headerlink" title="7.搜索框"></a>7.搜索框</h2><p>首页的搜索框，点击后进入搜索页面</p>
<p><img src="https://s2.loli.net/2022/08/30/1Dj63dzmc4raukU.png" alt="image-20220824113910534.png"></p>
<p><img src="D:\Typora\images\RGD3SPfkxeZTHu7.png" alt="image-20220824113842731.png"></p>
<h3 id="Searchinput组件"><a href="#Searchinput组件" class="headerlink" title="Searchinput组件"></a>Searchinput组件</h3><p>首先在components文件下准备一个Searchinput组件</p>
<h4 id="Searchinput-wxml"><a href="#Searchinput-wxml" class="headerlink" title="Searchinput.wxml"></a>Searchinput.wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;search_input&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;/pages/search/index&quot;</span> <span class="attr">open-type</span>=<span class="string">&quot;navigate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;Searchinput_navigator&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> &gt;</span>搜索<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Searchinput-wxss"><a href="#Searchinput-wxss" class="headerlink" title="Searchinput.wxss"></a>Searchinput.wxss</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.search_input .Searchinput_navigator &#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  background-color: white;</span><br><span class="line">  border-radius: 50rpx; </span><br><span class="line">  color: #666;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Searchinput-js"><a href="#Searchinput-js" class="headerlink" title="Searchinput.js"></a>Searchinput.js</h4><p>不需要修改</p>
<p>然后再添加一个search界面</p>
<h3 id="search界面"><a href="#search界面" class="headerlink" title="search界面"></a>search界面</h3><h4 id="search-wxml"><a href="#search-wxml" class="headerlink" title="search.wxml"></a>search.wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;page__bd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__form&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__box&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">icon</span> <span class="attr">class</span>=<span class="string">&quot;weui-icon-search_in-box&quot;</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">size</span>=<span class="string">&quot;14&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__input&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;搜索&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;inputVal&#125;&#125;&quot;</span> <span class="attr">focus</span>=<span class="string">&quot;&#123;&#123;inputShowed&#125;&#125;&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;inputTyping&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-icon-clear&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;inputVal.length &gt; 0&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;clearInput&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">icon</span> <span class="attr">type</span>=<span class="string">&quot;clear&quot;</span> <span class="attr">size</span>=<span class="string">&quot;14&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__label&quot;</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123;inputShowed&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showInput&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">icon</span> <span class="attr">class</span>=<span class="string">&quot;weui-icon-search&quot;</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">size</span>=<span class="string">&quot;14&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">icon</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__text&quot;</span>&gt;</span>搜索<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-search-bar__cancel-btn&quot;</span> <span class="attr">hidden</span>=<span class="string">&quot;&#123;&#123;!inputShowed&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;hideInput&quot;</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cells searchbar-result&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;inputVal.length &gt; 0&#125;&#125;&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;search_list1&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;dessay_id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;/pages/essays_detail/index?essay_id=&#123;&#123;item.dessay_id&#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell&quot;</span> <span class="attr">hover-class</span>=<span class="string">&quot;weui-cell_active&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;weui-cell__bd&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.dessay_title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="search-wxss"><a href="#search-wxss" class="headerlink" title="search.wxss"></a>search.wxss</h4><p>​        这里需要添加weui，可以上网上(或者到仓库里)找然后修改文件路径</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Tencent is pleased to support the open source community by making</span></span><br><span class="line"><span class="comment">* WeUI-WXSS available.</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* Copyright (C) 2017 THL A29 Limited, a Tencent company.</span></span><br><span class="line"><span class="comment">* All rights reserved.</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* Licensed under the MIT License (the &quot;License&quot;); you may not use</span></span><br><span class="line"><span class="comment">* this file except in compliance with the License. You may obtain a copy of</span></span><br><span class="line"><span class="comment">* the License at</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">*       http://opensource.org/licenses/MIT</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment">* distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></span><br><span class="line"><span class="comment">* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment">* See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment">* limitations under the License.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;base/reset.wxss&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;widget/weui-cell/weui-cell.wxss&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;./widget/weui-searchbar/weui-searchbar.wxss&quot;</span>;</span><br><span class="line">page &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_row</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_row</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#dedede</span>;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_row</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx; </span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_content</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_content</span> <span class="selector-class">.search_item</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15</span>rpx <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="search-js"><a href="#search-js" class="headerlink" title="search.js"></a>search.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 页面的初始数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">inputVal</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">inputShowed</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">search_list1</span>: [],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">showInput</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">inputShowed</span>: <span class="literal">true</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hideInput</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">inputVal</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">inputShowed</span>: <span class="literal">false</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">clearInput</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">inputVal</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">inputTyping</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">inputVal</span>: e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//连接数据库</span></span><br><span class="line">      <span class="keyword">const</span> db = wx.<span class="property">cloud</span>.<span class="title function_">database</span>()</span><br><span class="line">      <span class="keyword">var</span> that = <span class="variable language_">this</span></span><br><span class="line">      db.<span class="title function_">collection</span>(<span class="string">&#x27;essays_detail&#x27;</span>).<span class="title function_">where</span>(&#123;</span><br><span class="line">        <span class="comment">//使用正则查询，实现对搜索的模糊查询</span></span><br><span class="line">        <span class="attr">dessay_title</span>: db.<span class="title class_">RegExp</span>(&#123;</span><br><span class="line">          <span class="attr">regexp</span>: e.<span class="property">detail</span>.<span class="property">value</span>,</span><br><span class="line">          <span class="comment">//从搜索栏中获取的value作为规则进行匹配。</span></span><br><span class="line">          <span class="attr">options</span>: <span class="string">&#x27;i&#x27;</span>,</span><br><span class="line">          <span class="comment">//大小写不区分</span></span><br><span class="line">        &#125;),</span><br><span class="line">        </span><br><span class="line">      &#125;).<span class="title function_">limit</span>(<span class="number">10</span>).<span class="title function_">get</span>(&#123;</span><br><span class="line">        <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          that.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">search_list1</span>: res.<span class="property">data</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<h2 id="8-分类栏"><a href="#8-分类栏" class="headerlink" title="8.分类栏"></a>8.分类栏</h2><p><img src="https://s2.loli.net/2022/08/30/rpV3iWQvRcUIxz7.png" alt="image-20220824115856124.png"></p>
<p>在component文件夹下准备Cater组件：</p>
<h4 id="Cater-wxml"><a href="#Cater-wxml" class="headerlink" title="Cater.wxml"></a>Cater.wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&quot;tab-list&quot;</span> <span class="attr">scroll-x</span> <span class="attr">scroll-with-animation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;id&quot;</span> <span class="attr">class</span>=<span class="string">&quot;tab-item &#123;&#123;item.isActive ? &#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">data-index</span>=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleItemTap&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span>   </span><br></pre></td></tr></table></figure>

<h4 id="Cater-wxss"><a href="#Cater-wxss" class="headerlink" title="Cater.wxss"></a>Cater.wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tab-list</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">88</span>rpx;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#e5e5e5</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">   </span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  <span class="selector-class">.tab-item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">188</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">85</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">85</span>rpx;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  <span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">5</span>rpx solid red;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Cater-js"><a href="#Cater-js" class="headerlink" title="Cater.js"></a>Cater.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Component</span>(&#123;</span><br><span class="line">    <span class="attr">properties</span>:&#123;</span><br><span class="line">      <span class="attr">tabs</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="title class_">Array</span>,</span><br><span class="line">        <span class="attr">value</span>:[]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">data</span>: &#123; </span><br><span class="line">        </span><br><span class="line">    &#125;, </span><br><span class="line">    <span class="comment">//组件.js存放事件回到函数在methods中</span></span><br><span class="line">    <span class="attr">methods</span>:&#123;  </span><br><span class="line">      <span class="title function_">handleItemTap</span>(<span class="params">e</span>)&#123;</span><br><span class="line">        <span class="comment">/* 1  </span></span><br><span class="line"><span class="comment">        1 绑定点击事件 </span></span><br><span class="line"><span class="comment">        2 获取被点击的索引</span></span><br><span class="line"><span class="comment">        3 获取原数组</span></span><br><span class="line"><span class="comment">        4 对数组循环 </span></span><br><span class="line"><span class="comment">          1 给每一个循环性 选中属性 改为 false </span></span><br><span class="line"><span class="comment">          2 给 当前的索引的 项添加激活选中效果就可以了</span></span><br><span class="line"><span class="comment">        */</span> </span><br><span class="line">        <span class="comment">// 2 获取索引 </span></span><br><span class="line">        <span class="keyword">const</span> &#123;index&#125;=e.<span class="property">currentTarget</span>.<span class="property">dataset</span>; </span><br><span class="line">        <span class="comment">// 传递事件给父组件</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">triggerEvent</span>(<span class="string">&quot;itemChange&quot;</span>,&#123;index&#125;);</span><br><span class="line">        <span class="comment">// 3 获取data中的数组</span></span><br><span class="line">        <span class="comment">// 解构 对 复杂类型进行结构 复制了一份 变量引用而已</span></span><br><span class="line">        <span class="keyword">let</span> &#123;tabs&#125;=<span class="variable language_">this</span>.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">// 4 循环数组 </span></span><br><span class="line">        tabs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v,i</span>) =&gt;</span>i===index?v.<span class="property">isActive</span>=<span class="attr">true</span>:v.<span class="property">isActive</span>=<span class="literal">false</span> )</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          tabs</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>



<p><strong>然后在需要添加分类栏的界面：</strong></p>
<h4 id="index-json"><a href="#index-json" class="headerlink" title="index.json"></a>index.json</h4><p>先引入Cater组件</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>  </span><br><span class="line">    <span class="attr">&quot;Cater&quot;</span><span class="punctuation">:</span><span class="string">&quot;../../components/Cater/Cater&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;首页&quot;</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;enablePullDownRefresh&quot;</span><span class="punctuation">:</span><span class="keyword">true</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;onReachBottomDistance&quot;</span><span class="punctuation">:</span><span class="number">50</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#efefef&quot;</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;backgroundTextStyle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dark&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span>  </span><br></pre></td></tr></table></figure>

<h4 id="index-wxml"><a href="#index-wxml" class="headerlink" title="index.wxml"></a>index.wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 分类栏 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Cater</span> <span class="attr">tabs</span>=<span class="string">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class="attr">binditemChange</span>=<span class="string">&quot;handleItemChange&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Cater</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- 以下根据点击分类呈现相应的内容显示在block中--&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;tabs[0].isActive&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;tabs[1].isActive&#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">tabs</span>: [&#123;   </span><br><span class="line">      <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;推荐&quot;</span>,</span><br><span class="line">      <span class="attr">isActive</span>:<span class="literal">true</span></span><br><span class="line">    &#125;, </span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;文创&quot;</span>, </span><br><span class="line">      <span class="attr">isActive</span>:<span class="literal">false</span></span><br><span class="line">    &#125;,  </span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;时装&quot;</span>,</span><br><span class="line">      <span class="attr">isActive</span>:<span class="literal">false</span></span><br><span class="line">    &#125;, </span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;节目&quot;</span>,</span><br><span class="line">      <span class="attr">isActive</span>:<span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="title function_">handleItemChange</span>(<span class="params">e</span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> &#123;index&#125;=e.<span class="property">detail</span>;</span><br><span class="line">        <span class="keyword">let</span> &#123;tabs&#125;=<span class="variable language_">this</span>.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">// 4 循环数组</span></span><br><span class="line">        tabs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">v,i</span>) =&gt;</span>i===index?v.<span class="property">isActive</span>=<span class="attr">true</span>:v.<span class="property">isActive</span>=<span class="literal">false</span> )</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          tabs</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="9-地图颜色块图例"><a href="#9-地图颜色块图例" class="headerlink" title="9.地图颜色块图例"></a>9.地图颜色块图例</h2><p><img src="https://s2.loli.net/2022/08/30/6TvqWsAFekx3fXC.png" alt="颜色快图例.png"></p>
<h4 id="wxml-5"><a href="#wxml-5" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 图例 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;btm_tool&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;label1&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> &gt;</span>1级<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;label2&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> &gt;</span>2级<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;label3&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> &gt;</span>3级<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;label4&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> &gt;</span>4级<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;label5&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> &gt;</span>5级<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss-4"><a href="#wxss-4" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btm_tool</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1</span>rpx <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">z-index</span>:<span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btm_tool</span> <span class="selector-class">.tool_item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">6</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="10-收藏功能"><a href="#10-收藏功能" class="headerlink" title="10.收藏功能"></a>10.收藏功能</h2><p>​        在文章详情页点击“收藏”，就会在收藏夹”喜爱“界面出现文章的入口。</p>
<p><img src="https://s2.loli.net/2022/08/30/rpV3iWQvRcUIxz7.png" alt="image-20220824115856124.png"></p>
<p><img src="https://s2.loli.net/2022/08/30/enzOtbEICqy8cRl.png" alt="image-20220824115546637.png"></p>
<p><img src="https://s2.loli.net/2022/08/30/PK4QDNB5lkoFCH9.png" alt="image-20220824115827795.png"></p>
<p>在需要添加收藏功能的页面：</p>
<h4 id="wxml-6"><a href="#wxml-6" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;tool_item&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;iconfont &#123;&#123;isCollect?&#x27;icon-shoucang1&#x27;:&#x27;icon-shoucang&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleCollect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span>&gt;</span>收藏<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<h4 id="wxss-5"><a href="#wxss-5" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tool_item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tool_item</span> <span class="selector-class">.icon-shoucang1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="js-4"><a href="#js-4" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="comment">// 是否被收藏</span></span><br><span class="line">        <span class="attr">isCollect</span>:<span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="comment">// 点击收藏图标</span></span><br><span class="line">    <span class="title function_">handleCollect</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">let</span> isCollect=<span class="literal">false</span>;</span><br><span class="line">      <span class="comment">// 1 获取缓存中的收藏数组</span></span><br><span class="line">      <span class="keyword">let</span> collect=wx.<span class="title function_">getStorageSync</span>(<span class="string">&quot;collect&quot;</span>)||[];</span><br><span class="line">      <span class="comment">// 2 判断文章是否被收藏过</span></span><br><span class="line">      <span class="keyword">let</span> index=collect.<span class="title function_">findIndex</span>(<span class="function"><span class="params">v</span>=&gt;</span>v.<span class="property">dessay_id</span>===<span class="variable language_">this</span>.<span class="property">EssaysInfo</span>.<span class="property">dessay_id</span>)</span><br><span class="line">      <span class="comment">// 3 当index!=-1 表示已经收藏过了</span></span><br><span class="line">      <span class="keyword">if</span>(index!==-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// 已经收藏过了 在数组中删除</span></span><br><span class="line">        collect.<span class="title function_">splice</span>(index,<span class="number">1</span>);</span><br><span class="line">        isCollect=<span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// 弹窗提示</span></span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;取消成功&#x27;</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">          <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// 没有收藏过 添加</span></span><br><span class="line">        collect.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">EssaysInfo</span>);</span><br><span class="line">        isCollect=<span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 弹窗提示</span></span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;收藏成功&#x27;</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">          <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">          </span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 4 把数组存入到缓存中</span></span><br><span class="line">      wx.<span class="title function_">setStorageSync</span>(<span class="string">&quot;collect&quot;</span>,collect);</span><br><span class="line">      <span class="comment">// 5 修改data中的属性 isCollect</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        isCollect</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<p><strong>然后在收藏夹界面：</strong></p>
<h4 id="wxml-7"><a href="#wxml-7" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">class</span>=<span class="string">&quot;essays_item&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;collect&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">wx:key</span>=<span class="string">&quot;essay_id&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">url</span>=<span class="string">&quot;/pages/essays_detail/index?essay_id=&#123;&#123;item.dessay_id&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 左侧图片 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;essays_img_wrap&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">image</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.dessay_img&#125;&#125;&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 右侧标题 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;essays_info_wrap&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;essays_title&quot;</span>&gt;</span>&#123;&#123;item.dessay_title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;essays_src&quot;</span>&gt;</span>&#123;&#123;item.dessay_src&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss-6"><a href="#wxss-6" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/like/index.wxss */</span></span><br><span class="line">page &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f3f4f6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> <span class="selector-class">.essays_img_wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70%</span>;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> <span class="selector-class">.essays_img_wrap</span> image &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> <span class="selector-class">.essays_info_wrap</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> <span class="selector-class">.essays_info_wrap</span> <span class="selector-class">.essays_title</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: cursive;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">45</span>rpx;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.essays_item</span> <span class="selector-class">.essays_info_wrap</span> <span class="selector-class">.essays_src</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dedede</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="js-5"><a href="#js-5" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/like/index.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 页面的初始数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">collect</span>:[]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">onShow</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> collect= wx.<span class="title function_">getStorageSync</span>(<span class="string">&quot;collect&quot;</span>)||[];</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            collect</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>图标还需要引入一下</p>
<h4 id="app-wxss"><a href="#app-wxss" class="headerlink" title="app.wxss"></a>app.wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;./styles/iconfont.wxss&quot;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="iconfont-wxss"><a href="#iconfont-wxss" class="headerlink" title="iconfont.wxss"></a>iconfont.wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span>; <span class="comment">/* Project id 3280754 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_3280754_152au8amv0n.woff2?t=1650717301641&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_3280754_152au8amv0n.woff?t=1650717301641&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_3280754_152au8amv0n.ttf?t=1650717301641&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-shoucang</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e8b9&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-shoucang1</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e8c6&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="11-循环渲染板块"><a href="#11-循环渲染板块" class="headerlink" title="11.循环渲染板块"></a>11.循环渲染板块</h2><p><img src="https://s2.loli.net/2022/10/01/L6uwpDFSWq2fZHy.png" alt="image.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;achievement&#125;&#125;&quot;</span>  <span class="attr">wx:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;success_img_wrap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">mode</span>=<span class="string">&quot;widthFix&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;item.img&#125;&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;success_info_wrap&quot;</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;success_title&quot;</span>&gt;</span></span><br><span class="line">                 &#123;&#123;item.title&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success_img_wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">250</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success_img_wrap</span> image &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success_info_wrap</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.success_title</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: cursive;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">40</span>rpx;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="地图相关"><a href="#地图相关" class="headerlink" title="地图相关"></a>地图相关</h2><h3 id="获取中心点坐标"><a href="#获取中心点坐标" class="headerlink" title="获取中心点坐标"></a>获取中心点坐标</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//监听拖动地图，拖动结束根据中心点更新页面</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">mapChange</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">type</span> == <span class="string">&#x27;end&#x27;</span> &amp;&amp; (e.<span class="property">causedBy</span> == <span class="string">&#x27;scale&#x27;</span> || e.<span class="property">causedBy</span> == <span class="string">&#x27;drag&#x27;</span>))&#123;</span><br><span class="line">	self.<span class="property">mapCtx</span>.<span class="title function_">getCenterLocation</span>(&#123;</span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">	self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">	<span class="attr">nearList</span>:[]，</span><br><span class="line">    <span class="attr">latitude</span>: res.<span class="property">latitude</span>,</span><br><span class="line">	<span class="attr">longitude</span>: res.<span class="property">longitude</span>,</span><br><span class="line">	&#125;)</span><br><span class="line">	self.<span class="title function_">nearby_search</span>();</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="微信小程序——打开地图-选择位置-完整功能实现代码-定位，检索周边，可移动选点，可搜索，腾讯地图API"><a href="#微信小程序——打开地图-选择位置-完整功能实现代码-定位，检索周边，可移动选点，可搜索，腾讯地图API" class="headerlink" title="微信小程序——打开地图 选择位置 完整功能实现代码(定位，检索周边，可移动选点，可搜索，腾讯地图API)"></a>微信小程序——打开地图 选择位置 完整功能实现代码(定位，检索周边，可移动选点，可搜索，腾讯地图API)</h3><p>源码：</p>
<p>CSDN: <a target="_blank" rel="noopener" href="https://download.csdn.net/download/yu17310133443/11085028">微信小程序——打开地图选择位置信息完整功能实现代码(定位，可移动选点，可搜索，腾讯地图API)_微信小程序打开地图标点收藏-HTML5代码类资源-CSDN下载</a></p>
<p>github: <a target="_blank" rel="noopener" href="https://github.com/mcky1928/map">https://github.com/mcky1928/map</a></p>
<p><strong>效果：</strong></p>
<img src="https://img-blog.csdnimg.cn/20190403105619349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l1MTczMTAxMzM0NDM=,size_16,color_FFFFFF,t_70" alt="img" style="zoom:80%;" />

<h4 id="wxml-8"><a href="#wxml-8" class="headerlink" title="wxml"></a>wxml</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/shopMap/shopMap.wxml--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--绑定点击事件--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--绑定输入事件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;addListShow&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;back iconfont icon-fanhui&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;back1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;search-box &#123;&#123;addListShow?&#x27;search-box1&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;chooseCity&quot;</span>&gt;</span>&#123;&#123;currentRegion.district&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;shu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">bindinput</span>=<span class="string">&quot;getsuggest&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入您的店铺地址&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--关键词输入提示列表渲染--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;add-list-box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&quot;add-list&quot;</span> <span class="attr">scroll-y</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;add-item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;suggestion&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--绑定回填事件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;backfill&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span> <span class="attr">data-name</span>=<span class="string">&quot;&#123;&#123;item.title&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--根据需求渲染相应数据--&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--渲染地址title--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--渲染详细地址--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;add&quot;</span>&gt;</span>&#123;&#123;item.addr&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;!addListShow &amp;&amp; !chooseCity&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--地图容器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">id</span>=<span class="string">&quot;myMap&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">style</span>=<span class="string">&quot;width:100%;height:300px;&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">longitude</span>=<span class="string">&quot;&#123;&#123;longitude&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">latitude</span>=<span class="string">&quot;&#123;&#123;latitude&#125;&#125;&quot;</span> <span class="attr">scale</span>=<span class="string">&quot;17&quot;</span> <span class="attr">bindregionchange</span>=<span class="string">&quot;mapChange&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;back&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;back1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cover-image</span> <span class="attr">src</span>=<span class="string">&quot;../../images/back.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cover-image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;search-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;region&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;chooseCity&quot;</span>&gt;</span>&#123;&#123;currentRegion.district&#125;&#125;<span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;shu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;placeholder&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showAddList&quot;</span>&gt;</span>请输入您的店铺地址<span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;map-prompt&quot;</span>&gt;</span>您可拖动地图, 标记店铺准确位置<span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">cover-image</span> <span class="attr">class</span>=<span class="string">&quot;current-site-icon&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../../images/my_marker.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cover-image</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;reload&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;reload&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;center1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cover-view</span> <span class="attr">class</span>=<span class="string">&quot;center2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">cover-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&quot;near-list&quot;</span> <span class="attr">scroll-y</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--绑定回填事件--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;near-item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;nearList&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;current-site iconfont icon-location&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;index == selectedId &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--根据需求渲染相应数据--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;chooseCenter&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span> <span class="attr">data-name</span>=<span class="string">&quot;&#123;&#123;item.title&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--渲染地址title--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title &#123;&#123; index == selectedId?&#x27;title1&#x27;:&#x27;&#x27; &#125;&#125;&quot;</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--渲染详细地址--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;add &#123;&#123; index == selectedId?&#x27;add1&#x27;:&#x27;&#x27; &#125;&#125;&quot;</span>&gt;</span>&#123;&#123;item.addr&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;bottom-box&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;selectedOk&quot;</span>&gt;</span>确认地址<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-box&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;chooseCity&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-top&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-back iconfont icon-fanhui&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;back2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>选择城市<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-tabs&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;tab&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showProvince&quot;</span>&gt;</span>&#123;&#123;currentProvince&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;tab&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showCity&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;!regionShow.province&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showCity&quot;</span>&gt;</span>&#123;&#123;currentCity&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;tab&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showDistrict&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;regionShow.district&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;showDistrict&quot;</span>&gt;</span>&#123;&#123;currentDistrict&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-y</span> <span class="attr">style</span>=<span class="string">&quot;height:1050rpx;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-list&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;regionShow.province&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;regionData.province&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">data-id</span>=<span class="string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span> <span class="attr">data-name</span>=<span class="string">&quot;&#123;&#123;item.fullname&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;selectProvince&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;item.fullname&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-list&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;regionShow.city&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;regionData.city&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">data-id</span>=<span class="string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span> <span class="attr">data-name</span>=<span class="string">&quot;&#123;&#123;item.fullname&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;selectCity&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;item.fullname&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-list&quot;</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;regionShow.district&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;region-item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;regionData.district&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">data-id</span>=<span class="string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span> <span class="attr">data-name</span>=<span class="string">&quot;&#123;&#123;item.fullname&#125;&#125;&quot;</span> <span class="attr">data-latitude</span>=<span class="string">&quot;&#123;&#123;item.location.lat&#125;&#125;&quot;</span> <span class="attr">data-longitude</span>=<span class="string">&quot;&#123;&#123;item.location.lng&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;selectDistrict&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;item.fullname&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="wxss-7"><a href="#wxss-7" class="headerlink" title="wxss"></a>wxss</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/shopMap/shopMap.wxss */</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;../../lib/css/iconfont.wxss&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.top</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>);</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back</span> cover-image&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">610</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>);</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box1</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box</span> <span class="selector-class">.region</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">199</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box</span> <span class="selector-class">.shu</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>:<span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">380</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search-box</span> <span class="selector-class">.placeholder</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">380</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.add-list-box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">998</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">150</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.add-list</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1000</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.add-item</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30</span>rpx <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.add-item</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.add-item</span> <span class="selector-class">.add</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#707070</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.current-site-icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-list</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">650</span>rpx;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-item</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30</span>rpx <span class="number">50</span>rpx <span class="number">30</span>rpx <span class="number">90</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.current-site</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-item</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">32</span>rpx;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-item</span> <span class="selector-class">.add</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#707070</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-item</span> <span class="selector-class">.title1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3095F9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.near-item</span> <span class="selector-class">.add1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3095F9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">88</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bottom-box</span> <span class="selector-tag">button</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">36</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.region-box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#FFF</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1001</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.region-box</span> <span class="selector-class">.region-top</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.region-box</span> <span class="selector-class">.region-back</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.region-box</span> <span class="selector-class">.region-tabs</span>&#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.region-tabs</span> <span class="selector-class">.tab</span> &#123;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1</span>rpx solid <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20</span>rpx <span class="number">0</span> <span class="number">20</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3</span>rpx <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.region-list</span> <span class="selector-class">.region-item</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#282828</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1</span>rpx solid <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.map-prompt</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">420</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#707070</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10</span>rpx <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reload</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10</span>rpx <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reload</span> <span class="selector-class">.center1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1</span>rpx solid <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">24</span>rpx auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reload</span> <span class="selector-class">.center2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">25</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3095F9</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3</span>rpx auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="js-6"><a href="#js-6" class="headerlink" title="js"></a>js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">QQMapWX</span> = <span class="built_in">require</span>(<span class="string">&#x27;../../utils/qqmap-wx-jssdk1.2/qqmap-wx-jssdk.min.js&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> qqmapsdk;</span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">addListShow</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">chooseCity</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">regionShow</span>: &#123;</span><br><span class="line">      <span class="attr">province</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">city</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">district</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">regionData</span>: &#123;&#125;, </span><br><span class="line">    <span class="attr">currentRegion</span>: &#123;</span><br><span class="line">      <span class="attr">province</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">      <span class="attr">city</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">      <span class="attr">district</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">currentProvince</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">    <span class="attr">currentCity</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">    <span class="attr">currentDistrict</span>: <span class="string">&#x27;选择城市&#x27;</span>,</span><br><span class="line">    <span class="attr">latitude</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">longitude</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">centerData</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">nearList</span>: [],</span><br><span class="line">    <span class="attr">suggestion</span>: [],</span><br><span class="line">    <span class="attr">selectedId</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">defaultKeyword</span>: <span class="string">&#x27;房产小区&#x27;</span>,</span><br><span class="line">    <span class="attr">keyword</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self =<span class="variable language_">this</span>;</span><br><span class="line">    self.<span class="property">mapCtx</span> = wx.<span class="title function_">createMapContext</span>(<span class="string">&#x27;myMap&#x27;</span>)</span><br><span class="line">    <span class="comment">// 实例化API核心类</span></span><br><span class="line">    qqmapsdk = <span class="keyword">new</span> <span class="title class_">QQMapWX</span>(&#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">&#x27;W57BZ-JDB6X-XPA4H-Z76MI-73FF2-24BT4&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;加载中&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//定位</span></span><br><span class="line">    wx.<span class="title function_">getLocation</span>(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;wgs84&#x27;</span>,</span><br><span class="line">      <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res)</span></span><br><span class="line">        <span class="keyword">const</span> latitude = res.<span class="property">latitude</span></span><br><span class="line">        <span class="keyword">const</span> longitude = res.<span class="property">longitude</span></span><br><span class="line">        <span class="keyword">const</span> speed = res.<span class="property">speed</span></span><br><span class="line">        <span class="keyword">const</span> accuracy = res.<span class="property">accuracy</span></span><br><span class="line">        <span class="comment">//你地址解析</span></span><br><span class="line">        qqmapsdk.<span class="title function_">reverseGeocoder</span>(&#123;</span><br><span class="line">          <span class="attr">location</span>: &#123;</span><br><span class="line">            <span class="attr">latitude</span>: latitude,</span><br><span class="line">            <span class="attr">longitude</span>: longitude</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="comment">//console.log(res)</span></span><br><span class="line">            self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">              <span class="attr">latitude</span>: latitude,</span><br><span class="line">              <span class="attr">longitude</span>: longitude,</span><br><span class="line">              <span class="attr">currentRegion</span>: res.<span class="property">result</span>.<span class="property">address_component</span>,</span><br><span class="line">              <span class="attr">keyword</span>: self.<span class="property">data</span>.<span class="property">defaultKeyword</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 调用接口</span></span><br><span class="line">            self.<span class="title function_">nearby_search</span>();</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">fail</span>(<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(err)</span></span><br><span class="line">        wx.<span class="title function_">hideLoading</span>(&#123;&#125;);</span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;定位失败&#x27;</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">1500</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          wx.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">            <span class="attr">delta</span>: <span class="number">1</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;, <span class="number">1500</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onReady</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//监听拖动地图，拖动结束根据中心点更新页面</span></span><br><span class="line">  <span class="attr">mapChange</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">type</span> == <span class="string">&#x27;end&#x27;</span> &amp;&amp; (e.<span class="property">causedBy</span> == <span class="string">&#x27;scale&#x27;</span> || e.<span class="property">causedBy</span> == <span class="string">&#x27;drag&#x27;</span>))&#123;</span><br><span class="line">      self.<span class="property">mapCtx</span>.<span class="title function_">getCenterLocation</span>(&#123;</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">          <span class="comment">//console.log(res)</span></span><br><span class="line">          self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">nearList</span>:[],</span><br><span class="line">            <span class="attr">latitude</span>: res.<span class="property">latitude</span>,</span><br><span class="line">            <span class="attr">longitude</span>: res.<span class="property">longitude</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">          self.<span class="title function_">nearby_search</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//重新定位</span></span><br><span class="line">  <span class="attr">reload</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">onLoad</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//整理目前选择省市区的省市区列表</span></span><br><span class="line">  <span class="attr">getRegionData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="comment">//调用获取城市列表接口</span></span><br><span class="line">    qqmapsdk.<span class="title function_">getCityList</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;<span class="comment">//成功后的回调</span></span><br><span class="line">        <span class="comment">//console.log(res)</span></span><br><span class="line">        <span class="keyword">let</span> provinceArr = res.<span class="property">result</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">let</span> cityArr = [];</span><br><span class="line">        <span class="keyword">let</span> districtArr = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; provinceArr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> name = provinceArr[i].<span class="property">fullname</span>;</span><br><span class="line">          <span class="keyword">if</span> (self.<span class="property">data</span>.<span class="property">currentRegion</span>.<span class="property">province</span> == name) &#123;</span><br><span class="line">            <span class="keyword">if</span> (name == <span class="string">&#x27;北京市&#x27;</span> || name == <span class="string">&#x27;天津市&#x27;</span> || name == <span class="string">&#x27;上海市&#x27;</span> || name == <span class="string">&#x27;重庆市&#x27;</span>) &#123;</span><br><span class="line">              cityArr.<span class="title function_">push</span>(provinceArr[i])</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              qqmapsdk.<span class="title function_">getDistrictByCityId</span>(&#123;</span><br><span class="line">                <span class="comment">// 传入对应省份ID获得城市数据，传入城市ID获得区县数据,依次类推</span></span><br><span class="line">                <span class="attr">id</span>: provinceArr[i].<span class="property">id</span>,</span><br><span class="line">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;<span class="comment">//成功后的回调</span></span><br><span class="line">                  <span class="comment">//console.log(res);</span></span><br><span class="line">                  cityArr = res.<span class="property">result</span>[<span class="number">0</span>];</span><br><span class="line">                  self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                    <span class="attr">regionData</span>: &#123;</span><br><span class="line">                      <span class="attr">province</span>: provinceArr,</span><br><span class="line">                      <span class="attr">city</span>: cityArr,</span><br><span class="line">                      <span class="attr">district</span>: districtArr</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">                  <span class="comment">//console.error(error);</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                  <span class="comment">//console.log(res);</span></span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; res.<span class="property">result</span>[<span class="number">1</span>].<span class="property">length</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> name = res.<span class="property">result</span>[<span class="number">1</span>][i].<span class="property">fullname</span>;</span><br><span class="line">          <span class="keyword">if</span> (self.<span class="property">data</span>.<span class="property">currentRegion</span>.<span class="property">city</span> == name) &#123;</span><br><span class="line">            qqmapsdk.<span class="title function_">getDistrictByCityId</span>(&#123;</span><br><span class="line">              <span class="comment">// 传入对应省份ID获得城市数据，传入城市ID获得区县数据,依次类推</span></span><br><span class="line">              <span class="attr">id</span>: res.<span class="property">result</span>[<span class="number">1</span>][i].<span class="property">id</span>,</span><br><span class="line">              <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;<span class="comment">//成功后的回调</span></span><br><span class="line">                <span class="comment">//console.log(res);</span></span><br><span class="line">                districtArr = res.<span class="property">result</span>[<span class="number">0</span>];</span><br><span class="line">                self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">                  <span class="attr">regionData</span>: &#123;</span><br><span class="line">                    <span class="attr">province</span>: provinceArr,</span><br><span class="line">                    <span class="attr">city</span>: cityArr,</span><br><span class="line">                    <span class="attr">district</span>: districtArr</span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">                <span class="comment">//console.error(error);</span></span><br><span class="line">              &#125;,</span><br><span class="line">              <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="comment">//console.log(res);</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">        <span class="comment">//console.error(error);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onShow</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//地图标记点</span></span><br><span class="line">  <span class="attr">addMarker</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">//console.log(data)</span></span><br><span class="line">    <span class="comment">//console.log(data.title)</span></span><br><span class="line">    <span class="keyword">var</span> mks = [];</span><br><span class="line">    mks.<span class="title function_">push</span>(&#123; <span class="comment">// 获取返回结果，放到mks数组中</span></span><br><span class="line">      <span class="attr">title</span>: data.<span class="property">title</span>,</span><br><span class="line">      <span class="attr">id</span>: data.<span class="property">id</span>, </span><br><span class="line">      <span class="attr">addr</span>: data.<span class="property">addr</span>,</span><br><span class="line">      <span class="attr">province</span>: data.<span class="property">province</span>,</span><br><span class="line">      <span class="attr">city</span>: data.<span class="property">city</span>,</span><br><span class="line">      <span class="attr">district</span>: data.<span class="property">district</span>,</span><br><span class="line">      <span class="attr">latitude</span>: data.<span class="property">latitude</span>,</span><br><span class="line">      <span class="attr">longitude</span>: data.<span class="property">longitude</span>,</span><br><span class="line">      <span class="attr">iconPath</span>: <span class="string">&quot;/images/my_marker.png&quot;</span>, <span class="comment">//图标路径</span></span><br><span class="line">      <span class="attr">width</span>: <span class="number">25</span>,</span><br><span class="line">      <span class="attr">height</span>: <span class="number">25</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="comment">//设置markers属性，将搜索结果显示在地图中</span></span><br><span class="line">      <span class="attr">markers</span>: mks,</span><br><span class="line">      <span class="attr">currentRegion</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: data.<span class="property">province</span>,</span><br><span class="line">        <span class="attr">city</span>: data.<span class="property">city</span>,</span><br><span class="line">        <span class="attr">district</span>: data.<span class="property">district</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">hideLoading</span>(&#123;&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//点击选择搜索结果</span></span><br><span class="line">  <span class="attr">backfill</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> id = e.<span class="property">currentTarget</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">suggestion</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i == id) &#123;</span><br><span class="line">        <span class="comment">//console.log(this.data.suggestion[i])</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">centerData</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">suggestion</span>[i],</span><br><span class="line">          <span class="attr">addListShow</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">latitude</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">suggestion</span>[i].<span class="property">latitude</span>,</span><br><span class="line">          <span class="attr">longitude</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">suggestion</span>[i].<span class="property">longitude</span></span><br><span class="line">        &#125;); </span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">nearby_search</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//console.log(this.data.centerData)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//点击选择地图下方列表某项</span></span><br><span class="line">  <span class="attr">chooseCenter</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> id = e.<span class="property">currentTarget</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">nearList</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i == id) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">selectedId</span>: id,</span><br><span class="line">          <span class="attr">centerData</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">nearList</span>[i],</span><br><span class="line">          <span class="attr">latitude</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">nearList</span>[i].<span class="property">latitude</span>,</span><br><span class="line">          <span class="attr">longitude</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">nearList</span>[i].<span class="property">longitude</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">addMarker</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">nearList</span>[id]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//console.log(this.data.centerData)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//显示搜索列表</span></span><br><span class="line">  <span class="attr">showAddList</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">addListShow</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 根据关键词搜索附近位置</span></span><br><span class="line">  <span class="attr">nearby_search</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    wx.<span class="title function_">hideLoading</span>();</span><br><span class="line">    wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;加载中&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 调用接口</span></span><br><span class="line">    qqmapsdk.<span class="title function_">search</span>(&#123;</span><br><span class="line">      <span class="attr">keyword</span>: self.<span class="property">data</span>.<span class="property">keyword</span>,  <span class="comment">//搜索关键词</span></span><br><span class="line">      <span class="comment">//boundary: &#x27;nearby(&#x27; + self.data.latitude + &#x27;, &#x27; + self.data.longitude + &#x27;, 1000, 16)&#x27;,</span></span><br><span class="line">      <span class="attr">location</span>: self.<span class="property">data</span>.<span class="property">latitude</span> + <span class="string">&#x27;,&#x27;</span> + self.<span class="property">data</span>.<span class="property">longitude</span>,</span><br><span class="line">      <span class="attr">page_size</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">page_index</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123; <span class="comment">//搜索成功后的回调</span></span><br><span class="line">        <span class="comment">//console.log(res.data)</span></span><br><span class="line">        <span class="keyword">var</span> sug = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; res.<span class="property">data</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          sug.<span class="title function_">push</span>(&#123; <span class="comment">// 获取返回结果，放到sug数组中</span></span><br><span class="line">            <span class="attr">title</span>: res.<span class="property">data</span>[i].<span class="property">title</span>,</span><br><span class="line">            <span class="attr">id</span>: res.<span class="property">data</span>[i].<span class="property">id</span>,</span><br><span class="line">            <span class="attr">addr</span>: res.<span class="property">data</span>[i].<span class="property">address</span>,</span><br><span class="line">            <span class="attr">province</span>: res.<span class="property">data</span>[i].<span class="property">ad_info</span>.<span class="property">province</span>,</span><br><span class="line">            <span class="attr">city</span>: res.<span class="property">data</span>[i].<span class="property">ad_info</span>.<span class="property">city</span>,</span><br><span class="line">            <span class="attr">district</span>: res.<span class="property">data</span>[i].<span class="property">ad_info</span>.<span class="property">district</span>,</span><br><span class="line">            <span class="attr">latitude</span>: res.<span class="property">data</span>[i].<span class="property">location</span>.<span class="property">lat</span>,</span><br><span class="line">            <span class="attr">longitude</span>: res.<span class="property">data</span>[i].<span class="property">location</span>.<span class="property">lng</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">selectedId</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">centerData</span>: sug[<span class="number">0</span>],</span><br><span class="line">          <span class="attr">nearList</span>: sug, </span><br><span class="line">          <span class="attr">suggestion</span>: sug</span><br><span class="line">        &#125;)</span><br><span class="line">        self.<span class="title function_">addMarker</span>(sug[<span class="number">0</span>]);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//根据关键词搜索匹配位置</span></span><br><span class="line">  <span class="attr">getsuggest</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">var</span> keyword = e.<span class="property">detail</span>.<span class="property">value</span>;</span><br><span class="line">    _this.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">addListShow</span>: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//调用关键词提示接口</span></span><br><span class="line">    qqmapsdk.<span class="title function_">getSuggestion</span>(&#123;</span><br><span class="line">      <span class="comment">//获取输入框值并设置keyword参数</span></span><br><span class="line">      <span class="attr">keyword</span>: keyword, <span class="comment">//用户输入的关键词，可设置固定值,如keyword:&#x27;KFC&#x27;</span></span><br><span class="line">      <span class="attr">location</span>: _this.<span class="property">data</span>.<span class="property">latitude</span> + <span class="string">&#x27;,&#x27;</span> + _this.<span class="property">data</span>.<span class="property">longitude</span>,</span><br><span class="line">      <span class="attr">page_size</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">page_index</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="comment">//region:&#x27;北京&#x27;, //设置城市名，限制关键词所示的地域范围，非必填参数</span></span><br><span class="line">      <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;<span class="comment">//搜索成功后的回调</span></span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">        <span class="keyword">var</span> sug = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; res.<span class="property">data</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          sug.<span class="title function_">push</span>(&#123; <span class="comment">// 获取返回结果，放到sug数组中</span></span><br><span class="line">            <span class="attr">title</span>: res.<span class="property">data</span>[i].<span class="property">title</span>,</span><br><span class="line">            <span class="attr">id</span>: res.<span class="property">data</span>[i].<span class="property">id</span>,</span><br><span class="line">            <span class="attr">addr</span>: res.<span class="property">data</span>[i].<span class="property">address</span>,</span><br><span class="line">            <span class="attr">province</span>: res.<span class="property">data</span>[i].<span class="property">province</span>,</span><br><span class="line">            <span class="attr">city</span>: res.<span class="property">data</span>[i].<span class="property">city</span>,</span><br><span class="line">            <span class="attr">district</span>: res.<span class="property">data</span>[i].<span class="property">district</span>,</span><br><span class="line">            <span class="attr">latitude</span>: res.<span class="property">data</span>[i].<span class="property">location</span>.<span class="property">lat</span>,</span><br><span class="line">            <span class="attr">longitude</span>: res.<span class="property">data</span>[i].<span class="property">location</span>.<span class="property">lng</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        _this.<span class="title function_">setData</span>(&#123; <span class="comment">//设置suggestion属性，将关键词搜索结果以列表形式展示</span></span><br><span class="line">          <span class="attr">suggestion</span>: sug,</span><br><span class="line">          <span class="attr">nearList</span>: sug,</span><br><span class="line">          <span class="attr">keyword</span>: keyword</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">        <span class="comment">//console.error(error);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//打开选择省市区页面</span></span><br><span class="line">  <span class="attr">chooseCity</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    self.<span class="title function_">getRegionData</span>();</span><br><span class="line">    self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">chooseCity</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">regionShow</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">city</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">district</span>: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">currentProvince</span>: self.<span class="property">data</span>.<span class="property">currentRegion</span>.<span class="property">province</span>,</span><br><span class="line">      <span class="attr">currentCity</span>: self.<span class="property">data</span>.<span class="property">currentRegion</span>.<span class="property">city</span>,</span><br><span class="line">      <span class="attr">currentDistrict</span>: self.<span class="property">data</span>.<span class="property">currentRegion</span>.<span class="property">district</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择省</span></span><br><span class="line">  <span class="attr">showProvince</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">regionShow</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">city</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">district</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择城市</span></span><br><span class="line">  <span class="attr">showCity</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">regionShow</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">city</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">district</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择地区</span></span><br><span class="line">  <span class="attr">showDistrict</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">regionShow</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">city</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">district</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择省之后操作</span></span><br><span class="line">  <span class="attr">selectProvince</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">//console.log(e)</span></span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">let</span> id = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">currentProvince</span>: name,</span><br><span class="line">      <span class="attr">currentCity</span>: <span class="string">&#x27;请选择城市&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (name == <span class="string">&#x27;北京市&#x27;</span> || name == <span class="string">&#x27;天津市&#x27;</span> || name == <span class="string">&#x27;上海市&#x27;</span> || name == <span class="string">&#x27;重庆市&#x27;</span>)&#123;</span><br><span class="line">      <span class="keyword">var</span> provinceArr = self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">province</span>;</span><br><span class="line">      <span class="keyword">var</span> cityArr = [];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; provinceArr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(provinceArr[i].<span class="property">fullname</span> == name)&#123;</span><br><span class="line">          cityArr.<span class="title function_">push</span>(provinceArr[i])</span><br><span class="line">          self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">regionData</span>: &#123;</span><br><span class="line">              <span class="attr">province</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">province</span>,</span><br><span class="line">              <span class="attr">city</span>: cityArr,</span><br><span class="line">              <span class="attr">district</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">district</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">          self.<span class="title function_">showCity</span>();</span><br><span class="line">          <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">let</span> bj = self.<span class="property">data</span>.<span class="property">regionShow</span>;</span><br><span class="line">      self.<span class="title function_">getById</span>(id, name, bj)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择城市之后操作</span></span><br><span class="line">  <span class="attr">selectCity</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">let</span> id = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">currentCity</span>: name,</span><br><span class="line">      <span class="attr">currentDistrict</span>: <span class="string">&#x27;请选择城市&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> bj = self.<span class="property">data</span>.<span class="property">regionShow</span>;</span><br><span class="line">    self.<span class="title function_">getById</span>(id, name, bj)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//选择区县之后操作</span></span><br><span class="line">  <span class="attr">selectDistrict</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">let</span> id = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="keyword">let</span> latitude = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">latitude</span>;</span><br><span class="line">    <span class="keyword">let</span> longitude = e.<span class="property">currentTarget</span>.<span class="property">dataset</span>.<span class="property">longitude</span>;</span><br><span class="line">    self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">currentDistrict</span>: name,</span><br><span class="line">      <span class="attr">latitude</span>: latitude,</span><br><span class="line">      <span class="attr">longitude</span>: longitude,</span><br><span class="line">      <span class="attr">currentRegion</span>: &#123;</span><br><span class="line">        <span class="attr">province</span>: self.<span class="property">data</span>.<span class="property">currentProvince</span>,</span><br><span class="line">        <span class="attr">city</span>: self.<span class="property">data</span>.<span class="property">currentCity</span>,</span><br><span class="line">        <span class="attr">district</span>: name</span><br><span class="line">      &#125;, </span><br><span class="line">      <span class="attr">chooseCity</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">keyword</span>: self.<span class="property">data</span>.<span class="property">defaultKeyword</span></span><br><span class="line">    &#125;)</span><br><span class="line">    self.<span class="title function_">nearby_search</span>();</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//根据选择省市加载市区列表</span></span><br><span class="line">  <span class="attr">getById</span>: <span class="keyword">function</span> (<span class="params">id,name,bj</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    qqmapsdk.<span class="title function_">getDistrictByCityId</span>(&#123;</span><br><span class="line">      <span class="comment">// 传入对应省份ID获得城市数据，传入城市ID获得区县数据,依次类推</span></span><br><span class="line">      <span class="attr">id</span>: id, <span class="comment">//对应接口getCityList返回数据的Id，如：北京是&#x27;110000&#x27;</span></span><br><span class="line">      <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;<span class="comment">//成功后的回调</span></span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">        <span class="keyword">if</span>(bj.<span class="property">province</span>)&#123;</span><br><span class="line">          self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">regionData</span>: &#123;</span><br><span class="line">              <span class="attr">province</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">province</span>,</span><br><span class="line">              <span class="attr">city</span>: res.<span class="property">result</span>[<span class="number">0</span>],</span><br><span class="line">              <span class="attr">district</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">district</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">          self.<span class="title function_">showCity</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (bj.<span class="property">city</span>) &#123;</span><br><span class="line">          self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">regionData</span>: &#123;</span><br><span class="line">              <span class="attr">province</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">province</span>,</span><br><span class="line">              <span class="attr">city</span>: self.<span class="property">data</span>.<span class="property">regionData</span>.<span class="property">city</span>,</span><br><span class="line">              <span class="attr">district</span>: res.<span class="property">result</span>[<span class="number">0</span>]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">          self.<span class="title function_">showDistrict</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          self.<span class="title function_">setData</span>(&#123;</span><br><span class="line">            <span class="attr">chooseCity</span>: <span class="literal">false</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">        <span class="comment">//console.error(error);</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//返回上一页或关闭搜索页面</span></span><br><span class="line">  <span class="attr">back1</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">addListShow</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">addListShow</span>: <span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      wx.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">        <span class="attr">delta</span>: <span class="number">1</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//关闭选择省市区页面</span></span><br><span class="line">  <span class="attr">back2</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">chooseCity</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//确认选择地址</span></span><br><span class="line">  <span class="attr">selectedOk</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> pages = <span class="title function_">getCurrentPages</span>(); <span class="comment">//获取当前页面js里面的pages里的所有信息。</span></span><br><span class="line">    <span class="keyword">let</span> prevPage = pages[pages.<span class="property">length</span> - <span class="number">2</span>]; </span><br><span class="line">    <span class="comment">//console.log(this.data.centerData)</span></span><br><span class="line">    prevPage.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">storeAddress</span>: <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">centerData</span>.<span class="property">title</span></span><br><span class="line">    &#125;)</span><br><span class="line">    wx.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">      <span class="attr">delta</span>: <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>引用的阿里图标 iconfont.wxss </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;<span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_1120834_hvoztl864h6.eot?t=1554258412999&#x27;</span>); <span class="comment">/* IE9 */</span></span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_1120834_hvoztl864h6.eot?t=1554258412999#iefix&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;embedded-opentype&#x27;</span>), <span class="comment">/* IE6-IE8 */</span></span><br><span class="line">  <span class="built_in">url</span>(<span class="string">&#x27;data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAgQAAsAAAAADnAAAAfAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCEIAqOMIwEATYCJAMoCxYABCAFhG0HgRsbZQxRlG9SkOzjMG74SoiyxOJKUQ6m+GaJv3j4fr//rb3Puf7FEE2iUTWqZhKe6QwJGo1EowRIJKYTkmfym3/ctJ8wScURvVFxQm2q0AnUsDdqSBIoEnSiYcrKRJQyE0dmdpyI9Ofv92oXzfKu7buc91//yqZV86fheECRDT6QAB0gzH3LdJLMDLxi+q3XExhtJwJdlIxTAERFeQEpT8yEDiA+uZrSGnpRG3NsFe9Bo8+38D0AvDM/H/9AZSCkpqAHXXs8ygiG/hRvpFGdFFUCiPq0uG5EwQFAvQo/xUo+AuDHu51mzK5eAdakI1vxN0iJp8Wz4py4MD4mfjf+qLOTmNFp8bDG9EAZ67+8Kg06rYZoIX8OKl8HBn4CMULhZ8oIPT/TRgh+Zo1Q+ckZIfkpxOsQjAGpDgRqkGpB0Aj4vtAzqmPWAPuBPAqUbajwksmvUtgK2i/nCnlmmenJyRnJKXwkgcNBUhGELiVJqQ6cXSlIMsI/LqELKyMlRRfk4geiUCymjkSUVFhkXItj0KoAi4hB0agqHFZQOkMkHRQOj78WFm6LjLoZy90etVyxCO+qXYEO1u/e0ajmRjRnR0x6PZK9NWwg8PUXe2GrKLrxxIGp26OVXCJVJeb2ssOUklNECiXdrbyjMdxlFfGMRub71Mq1FEcL5dES+gZsFa9sDYs1gDVWSaUKrOWxKG4rBHR6lgcnrT9TAF2PoAqIy1ULOAI2n61i8ZT7wiOhjrM8pbLFKOhmbATEo1gydithAOr5Cn7DBxyISlQgb2ReNX0cXUQfptfoi5Upu4jFslivLqRmoMWy/PzRjFEQYEpWM5ljBjOVTqxm0LJ8a2l7YkGQ5tzq1y1m5DMYvPYzR3ZcvGnH7NpP7TulmWKsKwepVbweuT24OWKuOkLZVc141Ud8CubgC1hK+j4KZYwPRlXp9oUTQf7o1kQoKRArS9GFw6pAlmpfuBkEIuiM+5TMA9HENH9EydBfD35B5a7HazFjHUEs25M69vr2tIeo3cqkLokTV7fTjarVQTp95VqGchVjtbVrfMRiRYXamfhqn29AYDdFN6wsUUn3BjI0UCPZPcXOsZLqHOz4CJnnczRi2qKr51fQGCiw7yFmq+fDbR+FyyETyEVyIXOppB6efqBjFoyAgBn1PZ0yiCAg2SojcAZC3M0gZJLHtXV8gRjw6FJdnYCfATo7rblkCXxaRzvxW8X6aYs/WzxNg2OBtbA1KtI6rba6umtXIaw17wEGjyrvLx21fWyR3UIwCLNlayoYCFHdudbDSwfqr5BuGp2DBseytA/2Ablhl8MNg8v5DnOtxz7YaKfb+jfJRah0SYMSfnzS1uRJNp7+zAPGYGWwKR1UVOb7pyV++93DQzJ061b//AkP69eu2LZMte0enJH38yulMbh6Zf3OHUdc1CztT78iX+1pP/cptEybqSjf3dcC99HL0MdkRtmylTJRc0W/lt2K8kztstCnlt4ytHj4fHkNrNU395oJddSPKOaVVOlDclHf4E0zPydz1PvkRzXwfHnxcBn6prmXPuu2tvzlhHOV0zqjveWi/k2n2yqDvTn45o+maGwQQIc2c/CtnoF8yrwv/QzEsqP8D1JLEdtWzFp/acT8BW98cnTKxTf/rhnZrNVVw2i0HMesIzt21q9cHTQqR/z0USZSga+6/3J5heAH5ck1k/e6GwOVgVDaOK0SXtKASls89/8v5KIfvp3TPXFXj+VytEoXNUZbe5eM23eCU8YVl+SralR+BLaodg7THLQe1LTRJvKBctEy6zLf04u6/gPJ8WCFunQ0d1/i7MQ+Tb0fSh1Ds69ep6m1a4d6oaG55EBd/4utvUtHr1Br49KHTb37vLXadZp6pYJh8yV6M3kbgWvT1qVnrsvIzMgwmeD3kulwqAOewbSh0HQNZ9yN63gaTJ+Yd3r/gXuUe5Xgj/K1XCX4abQb7VPmBdODJguxPzMHrOOuy85ewAGLZ6amfc9Zm3MXRc/lnJPsXdznHri6wc/yv3s3kQ1Yb/SWk1jIJLZ/82Y/K4NFLgBmfgWYXS5NtCEA5ZTFrDNf0boZyaUCeFxHfoPvbk2V3EIBlMwTRP8Zfu43PoFtx5HtfNhPZbSkDfzfJ/23rPhxp/+3xj6jKiiv72WSIThqEDmn1Q9F2fG7YAIv1TPGS8CXphvGlnGsMK94U7dwXW7i8CRc56LU2YaK3o7SWnkANSYHUat3Bo32k548WeVCE3XAPnMJCksOorTgCyqW3AcAqHyNGut9h1pLQUOjO5F1zsmuMCeOcGE6D2YU6icLzQbSjnOVJ9FKrccIr1Xn8lKmU4W53GaXsEJcHgxJMTvmquMA9wSi0uPBhbiLtAkl5GaY1UoKHS6yDTN4xCaPx9G/rAyPO1BsIG0g0QUuGB2PGmwkpDeZ08yAZIcX90gMfX89DMHLSseVMuqbUwXj4mZeu1AFsfIcpVK+Pdeofcl2m4BQyYNanFB4XUg2Wyg5aTFW5icJOeK3aoMx8BAzlfA69FeGs+F5+eL2hbatTf0TjUFvO0ZGiRpNtNFFH0OMMdm4ButMMZmneEm9WUfat/XaK3ojVtKg85hJe3ejbrLXpCOT2hKNHi8SVlZ0Px+LTDFhdsLpxbrhOrvJa94ErOuiQwEAAAAA&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_1120834_hvoztl864h6.woff?t=1554258412999&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">  <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_1120834_hvoztl864h6.ttf?t=1554258412999&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>), <span class="comment">/* chrome, firefox, opera, Safari, Android, iOS 4.2+ */</span></span><br><span class="line">  <span class="built_in">url</span>(<span class="string">&#x27;//at.alicdn.com/t/font_1120834_hvoztl864h6.svg?t=1554258412999#iconfont&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;svg&#x27;</span>); <span class="comment">/* iOS 4.1- */</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-iconfontzhizuobiaozhun16</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e60f&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-location</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e619&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-dayuhao</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e600&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-jizuobiaotu</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e613&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-dayuhao1</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e65c&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-zuobiao</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e657&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-zhengque</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e64a&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-fanhui</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e60d&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-class">.icon-iconfront-</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\e620&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>用到的图片</strong></p>
<p>back.png(wxml39行)和my_marker.png(wxml48行)</p>
<p><img src="https://img-blog.csdnimg.cn/2019040311084374.png" alt="img">  <img src="https://img-blog.csdnimg.cn/20190403110857533.png" alt="img"></p>
<p>可参考 <a target="_blank" rel="noopener" href="https://lbs.qq.com/webservice_v1/guide-appendix.html">WebService API | 腾讯位置服务</a></p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/07/01/%E4%B8%AD%E5%8D%8E%E6%96%87%E5%8C%96%E9%85%B7%EF%BC%81%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><img class="fill" src="https://s2.loli.net/2022/07/01/FNZEgU93CRYuVIJ.png" alt="中华文化酷！小程序"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-07-01T06:28:42.000Z" title="2022/7/1 14:28:42">2022-07-01</time>发表</span><span class="level-item"><time dateTime="2022-07-04T03:39:50.404Z" title="2022/7/4 11:39:50">2022-07-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a><span> / </span><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/">项目</a><span> / </span><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a></span><span class="level-item">5 分钟读完 (大约799个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/01/%E4%B8%AD%E5%8D%8E%E6%96%87%E5%8C%96%E9%85%B7%EF%BC%81%E5%B0%8F%E7%A8%8B%E5%BA%8F/">中华文化酷！小程序</a></h1><div class="content"><br>

<p>自从报名了icode比赛之后的几个月就再也没有理过这个东西了（事情多得有点忙乱，中途还要弄团委项目，当然我这个组长肯定要负主要责任）。还有半个月才和火蛋急忙开工，当时也没想那么多就想着既然参加了就起码得完成吧，意外的是最后还获得三等奖（五月份的事了）。这次的经历出现了一些问题也让我获得除了开发小程序以外的收获。</p>
<h4 id="策略方面"><a href="#策略方面" class="headerlink" title="策略方面"></a><strong>策略方面</strong></h4><p>首先就是一定要提前准备，确定好主题，做好长期的规划安排。其次是多和组员交流开会，带动一下整个团队。队长就是整个团队的核心和关键，需要有较强的内驱力和领导力。最后就是要做好调研调查，进度估计。了解好项目的大致框架和可能涉及到的技术栈。</p>
<h4 id="技术方面"><a href="#技术方面" class="headerlink" title="技术方面"></a><strong>技术方面</strong></h4><p>这个小程序也是相当简易的，涉及到的都是一些简单的程序指令，没有高端的算法之类的，这也是我们不愿在答辩时过多呈现技术方面的原因呵呵（因为师兄师姐的技术都太过硬核了）。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h4><p>这次作品主要有两点亮点吧，一是主题，二是UI界面。自从发现时间紧迫，在技术上不会有太大的造诣。于是每晚下工后躺在床上我都在想怎么包装这个作品。页面是参考的某学习app。而主题我们本打算就以传统文化为内容，但是后来我突然想起高中语文写的那么多作文都提到创新的中华文化。于是我就想以此为内容会不会更好，并定下了一个具有双关意味的名字。</p>
<p>当然也存在很多缺陷。一是前端基础不牢，运行时存在很多bug，不进行改进是绝对不能上线的。二是选题问题。答辩时师兄提了很好的问题，他说为什么不能用抖音这些平台来宣传呢？意思就是让我们思考这个软件凭什么让别人来使用你，如果只是单纯传播一些帖子，网上有很多流量更大的平台可以利用。师兄还建议我们可以增加一些相关活动信息的发布，来提升实用性。三当然就是技术的硬核程度了，要多注重技术方面才能拿得出手，这也是我在接下来要重点加强学习的。</p>
<p>最后附上我深夜爆肝的花里胡哨说明文档以及答辩ppt。</p>
<center style="font-size:large;font-weight:bold">中华文化酷！说明文档</center><center>2022/4/24</center>



	<div class="row">
    <embed src="https://jjuprising.github.io/files/sinocool_docu.pdf" width="100%" height="550" type="application/pdf">
	</div>








<center style="font-size:large;font-weight:bold">中华文化酷！答辩ppt</center></center><center>2022/5/15</center>



	<div class="row">
    <embed src="https://jjuprising.github.io/files/sinocool_ppt.pdf" width="100%" height="550" type="application/pdf">
	</div>






<p><strong>鸣谢：</strong>Fire_egg</p>
</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/07/01/2022web%E5%A4%A7%E4%BD%9C%E4%B8%9A/"><img class="fill" src="https://s2.loli.net/2022/05/28/7OZLM2B8ie1jaxn.png" alt="2022web大作业"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-07-01T06:28:12.000Z" title="2022/7/1 14:28:12">2022-07-01</time>发表</span><span class="level-item"><time dateTime="2022-07-04T16:00:06.285Z" title="2022/7/5 00:00:06">2022-07-05</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a><span> / </span><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B/%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/">本科课程</a></span><span class="level-item">几秒读完 (大约96个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/01/2022web%E5%A4%A7%E4%BD%9C%E4%B8%9A/">2022web大作业</a></h1><div class="content"><p>最初想法是copy spsspro 可惜临近期末时间太赶了，而且发现还有好多前端知识还没学懂弄会，比如变量生存期、请求的顺序、解析后数据的存储形式等。</p>
<p><strong>大作业要求：</strong></p>
<p><img src="https://s2.loli.net/2022/07/01/iZunWXdOw8Yev2D.png" alt="大作业要求"></p>
<center style="font-size: large;font-weight: bold;">说明文档</center>



	<div class="row">
    <embed src="https://jjuprising.github.io/files/web_homework.pdf" width="100%" height="550" type="application/pdf">
	</div>




</div></article></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2022/07/01/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/"><img class="fill" src="https://ts1.cn.mm.bing.net/th/id/R-C.dfe1d40af41b9f5707463c4e8281a730?rik=XgM%2fBmGzBOvYUQ&amp;riu=http%3a%2f%2fcdn2018.ehuixue.cn%2fimages%2fehx_202005142215126754.jpg&amp;ehk=R0CUzXWZJuYdG%2buE1nx3Vpu2g31%2bK%2b8pZ8eJ37%2btzJI%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0" alt="线性代数"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-07-01T05:18:13.000Z" title="2022/7/1 13:18:13">2022-07-01</time>发表</span><span class="level-item"><time dateTime="2022-07-01T05:26:21.237Z" title="2022/7/1 13:26:21">2022-07-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/">本科课程</a></span><span class="level-item">几秒读完 (大约16个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/07/01/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/">线性代数</a></h1><div class="content"><p><img src="https://s2.loli.net/2022/07/01/p8Jt37wIWuxTvUV.png" alt="线性代数题型归纳"></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">上一页</a></div><div class="pagination-next"><a href="/page/2/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E6%95%99%E7%A8%8B/"><span class="level-start"><span class="level-item">教程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%99%E7%A8%8B/%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">编程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/"><span class="level-start"><span class="level-item">本科课程</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">深度学习</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">编程</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E7%BC%96%E7%A8%8B/%E6%9C%AC%E7%A7%91%E8%AF%BE%E7%A8%8B/"><span class="level-start"><span class="level-item">本科课程</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/"><span class="level-start"><span class="level-item">项目</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E7%BC%96%E7%A8%8B/%E9%A1%B9%E7%9B%AE/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="level-start"><span class="level-item">小程序</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-03T10:59:22.000Z">2022-11-03</time></p><p class="title"><a href="/2022/11/03/%E5%A6%82%E4%BD%95%E5%86%99%E7%94%B3%E6%8A%A5%E4%B9%A6%E5%92%8C%E7%AE%A1%E7%90%86%E9%A1%B9%E7%9B%AE/">如何写申报书和管理项目</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-01T17:00:01.000Z">2022-11-02</time></p><p class="title"><a href="/2022/11/02/%E8%A7%A3%E5%86%B3rehl8-Unable-to-read-consumer-identity%E7%9A%84%E9%97%AE%E9%A2%98/">解决rehl8 Unable to read consumer identity的问题</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-09-29T00:40:55.000Z">2022-09-29</time></p><p class="title"><a href="/2022/09/29/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-09-27T13:01:14.000Z">2022-09-27</time></p><p class="title"><a href="/2022/09/27/pytorch%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">pytorch深度学习笔记</a></p><p class="categories"><a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-09-24T01:30:40.000Z">2022-09-24</time></p><p class="title"><a href="/2022/09/24/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">python学习笔记</a></p><p class="categories"><a href="/categories/%E7%BC%96%E7%A8%8B/">编程</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c++</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/minecraft/"><span class="tag">minecraft</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span class="tag">云服务器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="tag">小程序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tag">教程</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6/"><span class="tag">数学</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span class="tag">服务器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">深度学习</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"><span class="tag">经验分享</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"><span class="tag">编程语言</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%A1%B9%E7%9B%AE/"><span class="tag">项目</span><span class="tag">3</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Joe Station" height="28"></a><p class="is-size-7"><span>&copy; 2022 Joe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>